/*! For license information please see main.f08848fd.chunk.js.LICENSE.txt */
(this["webpackJsonpwatutor-organization-console"]=this["webpackJsonpwatutor-organization-console"]||[]).push([[0],{126:function(e,t,a){e.exports=a.p+"static/media/sidebar-3.34535b95.jpg"},164:function(e,t){t.generateSessionMainAgGridColumns=function(e){return[{headerName:"Name",field:"name"},{headerName:"About",field:"about",minWidth:150},{headerName:"Session Type",field:"type",sortable:!0},{headerName:"Subject",field:"subjects",sortable:!0,minWidth:150},{headerName:"Tutor",field:"provider",sortable:!0},{headerName:"Start Time",field:"startTime",sortable:!0,filter:"agDateColumnFilter"},{headerName:"Created",field:"created",sortable:!0},{headerName:"# Members",field:"numMembers",filter:"agNumberColumnFilter",sortable:!0},{headerName:"Members",field:"members",sortable:!0,minWidth:150},{headerName:"Status",field:"status",sortable:!0},{headerName:"Manage",cellRenderer:"addUserButton",width:75},{headerName:"Delete",cellRenderer:"deleteItem",width:75}].filter((function(t){return!e||!e.includes(t.field)}))},t.mapSessionMainAgGridRows=function(e){var t=e.events||[],a="No status";t.includes("ended")?a="Ended":t.includes("ready")&&(a="Ready to start");var n="";switch(e.type){case"paid_available_timed":n="Tutoring";break;case"free_private_timed":n="Classroom";break;case"free_private":n="Study Session";break;default:console.log("Session type not recognized",e)}var r=function(e,t){var a=e.members&&Object.keys(e.members).filter((function(t){return Boolean(e.members[t].isLead)&&e.activeMembers.includes(t)}))[0]?Object.values(e.members).filter((function(e){return Boolean(e.isLead)}))[0].name:null,n=e.members&&Object.keys(e.members).filter((function(t){return Boolean(e.members[t].isLead)&&e.activeMembers.includes(t)}))[0]?Object.keys(e.members).filter((function(t){return Boolean(e.members[t].isLead)&&e.activeMembers.includes(t)}))[0]:null;return{name:"paid_available_timed"===t?e.provider.name:a,pid:"paid_available_timed"===t?e.provider.pid:n}}(e,n);return{status:a,provider:r.name,type:n,providerId:r.pid,active:!0,subjects:e.info.properties,name:e.info.name,about:e.info.about,startTime:new Date(1e3*e.info.start._seconds),providerEmail:e.provider?e.provider.email:null,members:e.members?Object.values(e.members).map((function(e){return e.name.split("~")[0]})):[],numMembers:e.activeMembers?Object.values(e.activeMembers).length:0,activeMembers:e.activeMembers,created:e.created?new Date(1e3*e.created._seconds):new Date,sid:e.sid,id:"s~".concat(e.sid)}}},18:function(e,t){var a=window.screen.width>768?1*window.screen.width/3:window.screen.width,n={Wrapper:{},Containers:{DefaultStyle:{position:"fixed",width:a,padding:"10px 10px 10px 20px",zIndex:9998,WebkitBoxSizing:"",MozBoxSizing:"",boxSizing:"",height:"auto",display:"inline-block",border:"0",fontSize:"14px",WebkitFontSmoothing:"antialiased",fontFamily:'"Roboto","Helvetica Neue",Arial,sans-serif',fontWeight:"400",color:"#FFFFFF"},tl:{top:"0px",bottom:"auto",left:"0px",right:"auto"},tr:{top:"0px",bottom:"auto",left:"auto",right:"0px"},tc:{top:"0px",bottom:"auto",margin:"0 auto",left:"50%",marginLeft:-a/2},bl:{top:"auto",bottom:"0px",left:"0px",right:"auto"},br:{top:"auto",bottom:"0px",left:"auto",right:"0px"},bc:{top:"auto",bottom:"0px",margin:"0 auto",left:"50%",marginLeft:-a/2}},NotificationItem:{DefaultStyle:{position:"relative",width:"100%",cursor:"pointer",borderRadius:"4px",fontSize:"14px",margin:"10px 0 0",padding:"10px",display:"block",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box",opacity:0,transition:"all 0.5s ease-in-out",WebkitTransform:"translate3d(0, 0, 0)",transform:"translate3d(0, 0, 0)",willChange:"transform, opacity",isHidden:{opacity:0},isVisible:{opacity:1}},success:{borderTop:0,backgroundColor:"#a1e82c",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},error:{borderTop:0,backgroundColor:"#fc727a",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},warning:{borderTop:0,backgroundColor:"#ffbc67",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0},info:{borderTop:0,backgroundColor:"#63d8f1",WebkitBoxShadow:0,MozBoxShadow:0,boxShadow:0}},Title:{DefaultStyle:{fontSize:"30px",margin:"0",padding:0,fontWeight:"bold",color:"#FFFFFF",display:"block",left:"15px",position:"absolute",top:"50%",marginTop:"-15px"}},MessageWrapper:{DefaultStyle:{marginLeft:"55px",marginRight:"30px",padding:"0 12px 0 0",color:"#FFFFFF",maxWidthwidth:"89%"}},Dismiss:{DefaultStyle:{fontFamily:"inherit",fontSize:"21px",color:"#000",float:"right",position:"absolute",right:"10px",top:"50%",marginTop:"-13px",backgroundColor:"#FFFFFF",display:"block",borderRadius:"50%",opacity:".4",lineHeight:"11px",width:"25px",height:"25px",outline:"0 !important",textAlign:"center",padding:"6px 3px 3px 3px",fontWeight:"300",marginLeft:"65px"},success:{},error:{},warning:{},info:{}},Action:{DefaultStyle:{background:"#ffffff",borderRadius:"2px",padding:"6px 20px",fontWeight:"bold",margin:"10px 0 0 0",border:0},success:{backgroundColor:"#a1e82c",color:"#ffffff"},error:{backgroundColor:"#fc727a",color:"#ffffff"},warning:{backgroundColor:"#ffbc67",color:"#ffffff"},info:{backgroundColor:"#63d8f1",color:"#ffffff"}},ActionWrapper:{DefaultStyle:{margin:0,padding:0}}};e.exports={style:n,thArray:["ID","Name","Salary","Country","City"],tdArray:[["1","Dakota Rice","$36,738","Niger","Oud-Turnhout"],["2","Minerva Hooper","$23,789","Cura\xe7ao","Sinaai-Waas"],["3","Sage Rodriguez","$56,142","Netherlands","Baileux"],["4","Philip Chaney","$38,735","Korea, South","Overland Park"],["5","Doris Greene","$63,542","Malawi","Feldkirchen in K\xe4rnten"],["6","Mason Porter","$78,615","Chile","Gloucester"]],iconsArray:["pe-7s-album","pe-7s-arc","pe-7s-back-2","pe-7s-bandaid","pe-7s-car","pe-7s-diamond","pe-7s-door-lock","pe-7s-eyedropper","pe-7s-female","pe-7s-gym","pe-7s-hammer","pe-7s-headphones","pe-7s-helm","pe-7s-hourglass","pe-7s-leaf","pe-7s-magic-wand","pe-7s-male","pe-7s-map-2","pe-7s-next-2","pe-7s-paint-bucket","pe-7s-pendrive","pe-7s-photo","pe-7s-piggy","pe-7s-plugin","pe-7s-refresh-2","pe-7s-rocket","pe-7s-settings","pe-7s-shield","pe-7s-smile","pe-7s-usb","pe-7s-vector","pe-7s-wine","pe-7s-cloud-upload","pe-7s-cash","pe-7s-close","pe-7s-bluetooth","pe-7s-cloud-download","pe-7s-way","pe-7s-close-circle","pe-7s-id","pe-7s-angle-up","pe-7s-wristwatch","pe-7s-angle-up-circle","pe-7s-world","pe-7s-angle-right","pe-7s-volume","pe-7s-angle-right-circle","pe-7s-users","pe-7s-angle-left","pe-7s-user-female","pe-7s-angle-left-circle","pe-7s-up-arrow","pe-7s-angle-down","pe-7s-switch","pe-7s-angle-down-circle","pe-7s-scissors","pe-7s-wallet","pe-7s-safe","pe-7s-volume2","pe-7s-volume1","pe-7s-voicemail","pe-7s-video","pe-7s-user","pe-7s-upload","pe-7s-unlock","pe-7s-umbrella","pe-7s-trash","pe-7s-tools","pe-7s-timer","pe-7s-ticket","pe-7s-target","pe-7s-sun","pe-7s-study","pe-7s-stopwatch","pe-7s-star","pe-7s-speaker","pe-7s-signal","pe-7s-shuffle","pe-7s-shopbag","pe-7s-share","pe-7s-server","pe-7s-search","pe-7s-film","pe-7s-science","pe-7s-disk","pe-7s-ribbon","pe-7s-repeat","pe-7s-refresh","pe-7s-add-user","pe-7s-refresh-cloud","pe-7s-paperclip","pe-7s-radio","pe-7s-note2","pe-7s-print","pe-7s-network","pe-7s-prev","pe-7s-mute","pe-7s-power","pe-7s-medal","pe-7s-portfolio","pe-7s-like2","pe-7s-plus","pe-7s-left-arrow","pe-7s-play","pe-7s-key","pe-7s-plane","pe-7s-joy","pe-7s-photo-gallery","pe-7s-pin","pe-7s-phone","pe-7s-plug","pe-7s-pen","pe-7s-right-arrow","pe-7s-paper-plane","pe-7s-delete-user","pe-7s-paint","pe-7s-bottom-arrow","pe-7s-notebook","pe-7s-note","pe-7s-next","pe-7s-news-paper","pe-7s-musiclist","pe-7s-music","pe-7s-mouse","pe-7s-more","pe-7s-moon","pe-7s-monitor","pe-7s-micro","pe-7s-menu","pe-7s-map","pe-7s-map-marker","pe-7s-mail","pe-7s-mail-open","pe-7s-mail-open-file","pe-7s-magnet","pe-7s-loop","pe-7s-look","pe-7s-lock","pe-7s-lintern","pe-7s-link","pe-7s-like","pe-7s-light","pe-7s-less","pe-7s-keypad","pe-7s-junk","pe-7s-info","pe-7s-home","pe-7s-help2","pe-7s-help1","pe-7s-graph3","pe-7s-graph2","pe-7s-graph1","pe-7s-graph","pe-7s-global","pe-7s-gleam","pe-7s-glasses","pe-7s-gift","pe-7s-folder","pe-7s-flag","pe-7s-filter","pe-7s-file","pe-7s-expand1","pe-7s-exapnd2","pe-7s-edit","pe-7s-drop","pe-7s-drawer","pe-7s-download","pe-7s-display2","pe-7s-display1","pe-7s-diskette","pe-7s-date","pe-7s-cup","pe-7s-culture","pe-7s-crop","pe-7s-credit","pe-7s-copy-file","pe-7s-config","pe-7s-compass","pe-7s-comment","pe-7s-coffee","pe-7s-cloud","pe-7s-clock","pe-7s-check","pe-7s-chat","pe-7s-cart","pe-7s-camera","pe-7s-call","pe-7s-calculator","pe-7s-browser","pe-7s-box2","pe-7s-box1","pe-7s-bookmarks","pe-7s-bicycle","pe-7s-bell","pe-7s-battery","pe-7s-ball","pe-7s-back","pe-7s-attention","pe-7s-anchor","pe-7s-albums","pe-7s-alarm","pe-7s-airplay"],dataPie:{labels:["40%","20%","40%"],series:[40,20,40]},legendPie:{names:["Open","Bounce","Unsubscribe"],types:["info","danger","warning"]},dataSales:{labels:["9:00AM","12:00AM","3:00PM","6:00PM","9:00PM","12:00PM","3:00AM","6:00AM"],series:[[287,385,490,492,554,586,698,695],[67,152,143,240,287,335,435,437],[23,113,67,108,190,239,307,308]]},optionsSales:{low:0,high:800,showArea:!1,height:"245px",axisX:{showGrid:!1},lineSmooth:!0,showLine:!0,showPoint:!0,fullWidth:!0,chartPadding:{right:50}},responsiveSales:[["screen and (max-width: 640px)",{axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],legendSales:{names:["Open App ","Joined Group ","Book Session "],types:["info","danger","warning"]},dataBar:{labels:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],series:[[542,443,320,780,553,453,326,434,568,610,756,895],[412,243,280,580,453,353,300,364,368,410,636,695]]},optionsBar:{seriesBarDistance:10,axisX:{showGrid:!1},height:"245px"},responsiveBar:[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(e){return e[0]}}}]],legendBar:{names:["Study Sessions ","Tutor Sessions "],types:["info","danger"]}}},239:function(e,t,a){e.exports=a.p+"static/media/watutor-logo.5fb2f6ef.png"},247:function(e,t,a){e.exports=a.p+"static/media/face-3.ce7a6b79.jpg"},249:function(e,t,a){e.exports=a.p+"static/media/blur-classroom.e03296ab.png"},254:function(e,t,a){e.exports=a(535)},264:function(e,t,a){},265:function(e,t,a){},266:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},535:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(22),i=a.n(o),s=a(26),l=a(59),c=a(67),u=(a(263),a(264),a(265),a(266),a(267),a(268),a(11)),d=a(12),p=a(14),m=a(13),f=a(120),b=a.n(f),h=a(82),g=a(551),E=a(10),v=a(2),y=a(9),S=a.n(y),O=a(17),x=a(27),j=(a(277),a(536),a(537),a(279),a(281),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASE_URL,{apiKey:"AIzaSyCEcQQlgIHYKPHIp6pLsqNvf1ik-cyOnPg",authDomain:"watutors-1.firebaseapp.com",databaseURL:"https://watutors-1.firebaseio.com",projectId:"watutors-1",storageBucket:"watutors-1.appspot.com",messagingSenderId:"427074297383",appId:"1:427074297383:web:16965e63ca48616dd77802",measurementId:"G-3M6MMLMBS6"}),k=new(function(){function e(){Object(u.a)(this,e),this.fbApp=x.initializeApp(j),this.auth=this.fbApp.auth(),this.analytics=x.analytics(),this.db=x.firestore(),this.properties=[]}return Object(d.a)(e,[{key:"callInitiateStripeChargeFunction",value:function(e){return x.functions().httpsCallable("captureCharge")(e)}},{key:"streamCallSlotData",value:function(e,t,a){if(e&&t)return this.db.collection("Schedule").doc(e).onSnapshot(t,a)}},{key:"setScreen",value:function(e,t){this.analytics.setCurrentScreen(e),this.analytics.logEvent("page_view",{path:t,page_title:e})}},{key:"logEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={admin:!0};t&&(a=Object(v.a)(Object(v.a)({},a),t)),this.analytics.logEvent(e,a)}},{key:"authHook",value:function(){var e=Object(n.useState)((function(){var e=x.auth().currentUser;return console.log("useAuth",e),{initializing:!e,user:e}})),t=Object(E.a)(e,2),a=t[0],r=t[1];function o(e){r({initializing:!1,user:e})}return Object(n.useEffect)((function(){var e=x.auth().onAuthStateChanged(o);return function(){return e()}}),[]),a}},{key:"generateCallableFunction",value:function(e){return x.functions().httpsCallable(e)}},{key:"createNewUser",value:function(){var e=Object(O.a)(S.a.mark((function e(t){var a,n,r=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,e.abrupt("return",this.auth.setPersistence(x.auth.Auth.Persistence.SESSION).then((function(){return r.auth.createUserWithEmailAndPassword(a,n)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInUser",value:function(){var e=Object(O.a)(S.a.mark((function e(t){var a,n,r=this;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.abrupt("return",this.auth.setPersistence(x.auth.Auth.Persistence.SESSION).then((function(){return x.analytics().logEvent("login",{method:"EmailAndPassword"}),r.auth.signInWithEmailAndPassword(a,n)})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetPasswordFromEmail",value:function(e){return this.auth.sendPasswordResetEmail(e)}},{key:"getToken",value:function(){var e=Object(O.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.auth.currentUser){e.next=2;break}return e.abrupt("return",this.auth.currentUser.getIdToken().then((function(e){return e})).catch((function(e){return console.error("FirebaseAuthService getToken Error",e)})));case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTokenPromise",value:function(){return!!this.auth.currentUser&&this.auth.currentUser.getIdToken()}},{key:"getUser",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&x.auth().currentUser&&(x.auth().currentUser.reload(),this.user=x.auth().currentUser);var t=this.user;return t||null}},{key:"getUserReload",value:function(){var e=Object(O.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.auth().currentUser.reload();case 2:if(this.user=x.auth().currentUser,!(t=this.user)){e.next=6;break}return e.abrupt("return",t);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserData",value:function(){var e=this.auth.currentUser;return e?{photoUrl:e.photoURL,name:e.displayName,uid:e.uid,email:e.email,emailVerified:e.emailVerified}:{}}},{key:"updateUserData",value:function(e){var t=e.obj;e.quiet;this.auth.currentUser.updateProfile(t).then((function(){console.log("updateUserData success",t)})).catch((function(e){console.error("account update error:",e)}))}},{key:"updateUserDataPromise",value:function(e){var t=e.obj;e.quiet;return this.auth.currentUser.updateProfile(t)}},{key:"onAuthStateChanged",value:function(e){return this.auth.onAuthStateChanged(e)}},{key:"isAuthenticated",value:function(){return!!this.auth.currentUser||null}},{key:"signIn",value:function(){}},{key:"signOut",value:function(){this.auth.signOut().then((function(){localStorage.clear()})).catch((function(e){console.error("Logoout error: ".concat(JSON.stringify(e)))}))}},{key:"uploadFile",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=x.storage().ref(),r=n.child(t);r.put(e,a).then((function(e){console.log("uploaded file. snapshot:",e)})).catch((function(e){console.log("Image Upload Error",e)}))}},{key:"generateStorageRef",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=x.storage().ref();return e?t.child(e):t}},{key:"getStorageDownloadUrl",value:function(e){return x.storage().ref(e).getDownloadURL()}},{key:"generateFileUrl",value:function(){var e=Object(O.a)(S.a.mark((function e(t){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.storage().refFromURL(t).getDownloadURL();case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),console.error("file load error. url:",t,e.t0),e.abrupt("return","err");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUserEmailAddress",value:function(e){var t=this.auth.currentUser;t.updateEmail(e).then((function(){console.log("Email sent! Refresh page to view changes")})).catch((function(e){console.error("updateUserEmailAddress error:",e)}))}},{key:"sendEmailVerification",value:function(){this.auth.currentUser;var e=x.functions().httpsCallable("welcomeEmailTutor");e().then((function(){console.log("Email sent! Refresh page to view changes")})).catch((function(e){console.error("sendEmailVerification error:",e)}))}},{key:"sendPasswordResetEmail",value:function(){var e=this.auth.currentUser.email;this.auth.sendPasswordResetEmail(e).then((function(){console.log("Email sent!")})).catch((function(e){console.error("sendPasswordResetEmail error:",e)}))}},{key:"removeSignUrl",value:function(e){var t=e.indexOf("?");return e.substring(0,-1!==t?t:e.length).replace("https://storage.googleapis.com/modal-health-249620.appspot.com/","gs://modal-health-249620.appspot.com/")}}]),e}());var w=function(){return r.a.createElement("div",null)},C=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).mobileSidebarToggle=n.mobileSidebarToggle.bind(Object(h.a)(n)),n.state={sidebarExists:!1},n}return Object(d.a)(a,[{key:"mobileSidebarToggle",value:function(e){!1===this.state.sidebarExists&&this.setState({sidebarExists:!0}),console.log("AdminNavbar mobileSidebarToggle triggered"),e.preventDefault(),document.documentElement.classList.toggle("nav-open");var t=document.createElement("div");t.id="bodyClick",t.onclick=function(){console.log("AdminNavbar node triggered",document.documentElement.className.indexOf("nav-open")),this.parentElement.removeChild(this),0===document.documentElement.className.indexOf("nav-open")&&document.documentElement.classList.toggle("nav-open")},document.body.appendChild(t)}},{key:"render",value:function(){return r.a.createElement(g.a,{fluid:!0},r.a.createElement(g.a.Header,null,r.a.createElement(g.a.Brand,null,r.a.createElement("a",{href:"#pablo"},this.props.brandText)),r.a.createElement(g.a.Toggle,{onClick:this.mobileSidebarToggle})),r.a.createElement(g.a.Collapse,null,r.a.createElement(w,null)))}}]),a}(n.Component),N=a(238),T=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement(N.a,{fluid:!0},r.a.createElement("p",{className:"copyright pull-right"},"\xa9 ",(new Date).getFullYear()," ",r.a.createElement("a",{href:"http://www.watutor.com"},"WaTutor"),", Organization Management Console")))}}]),a}(n.Component),R=a(538),D=a(539),_=a(239),M=a.n(_),A=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={width:window.innerWidth},n}return Object(d.a)(a,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"updateDimensions",value:function(){this.setState({width:window.innerWidth})}},{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions.bind(this))}},{key:"render",value:function(){var e=this,t={backgroundImage:"url(".concat(this.props.image,")")};return r.a.createElement("div",{id:"sidebar",className:"sidebar","data-color":this.props.color,"data-image":this.props.image},this.props.hasImage?r.a.createElement("div",{className:"sidebar-background",style:t}):null,r.a.createElement("div",{className:"logo"},r.a.createElement(R.a,null,r.a.createElement(D.a,{xs:12},r.a.createElement("a",{href:"https://watutors.com",className:"simple-text logo-mini"},r.a.createElement("div",{className:"logo-img"},r.a.createElement("img",{src:M.a,alt:"logo_image"})))),r.a.createElement(D.a,{xs:12},r.a.createElement("a",{href:"https://www.watutors.com",className:"simple-text logo-normal"},this.props.orgState)))),r.a.createElement("div",{className:"sidebar-wrapper"},r.a.createElement("ul",{className:"nav"},(this.state.width,null),this.props.routes.map((function(t,a){return t.external?r.a.createElement("li",{className:t.upgrade?"active active-pro":e.activeRoute(t.layout+t.path),key:a},r.a.createElement("a",{href:t.link,className:"nav-link",target:"_blank",rel:"noreferrer"},r.a.createElement("i",{className:t.icon}),r.a.createElement("p",null,t.name))):!t.redirect&&t.live?r.a.createElement("li",{className:t.upgrade?"active active-pro":e.activeRoute(t.layout+t.path),key:a},r.a.createElement(l.b,{to:t.layout+t.path,className:"nav-link"},r.a.createElement("i",{className:t.icon}),r.a.createElement("p",null,t.name))):null})))))}}]),a}(n.Component),I=Object(s.b)((function(e){return{orgState:e.userReducer.org}}),null)(A),U=a(38);var P=function(e){var t=e.component,a=e.name,o=e.path,i=(Object(U.a)(e,["component","name","path"]),k.authHook()),s=i.initializing,l=i.user;return Object(n.useEffect)((function(){l&&console.log("PrivateRoute user logged in",l)}),[l,s]),Object(n.useEffect)((function(){console.log("PrivateRoute setScreen GA ",{name:a,path:o}),k.setScreen(a,o)}),[a]),s?r.a.createElement("div",{style:{textAlign:"center",width:"100%"}},r.a.createElement("p",null,"Loading...")):Boolean(l)&&!l.emailVerified?(console.log("email verification redirect triggered"),k.setScreen("Email Verification Redirect","/email-verification"),r.a.createElement(c.a,{to:"/email-verification"})):Boolean(l)||"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_OFFLINE?r.a.createElement(c.b,{render:function(e){return r.a.createElement(t,Object.assign({},e,{routeName:a,routePath:o}))}}):r.a.createElement(c.a,{to:"/login"})},G=a(18),F=a(69),L=a.n(F),B=a(21),H={properties:{list:["Math 1","Math 2","Math 3","Spanish 1","Spanish 2","ESL"],loading:!1,error:!1},user:{org:!1,name:"Hank Hill",properties:["Loading..."]},students:{list:[],loading:!1,error:!1},providers:{list:[],loading:!1,error:!1},groups:{list:[],loading:!1,error:!1},sessions:{list:[],loading:!1,error:!1}},V=a(242),z=a.n(V),W=[200,201,202,204,303];function Y(e){return J.apply(this,arguments)}function J(){return(J=Object(O.a)(S.a.mark((function e(t){var a,n,r,o,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.method,n=t.endpoint,r=t.body,o=void 0===r?{}:r,e.t0=a,e.t1="Bearer ",e.next=5,k.getToken();case 5:return e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),e.t4={"Content-Type":"application/json",Authorization:e.t3},i={method:e.t0,headers:e.t4},"GET"!==a&&(i.body=JSON.stringify(o)),"http://localhost:3001",e.abrupt("return",z()("".concat("http://localhost:3001","/v2/").concat(n),i).then((function(e){return q(e)})).catch((function(e){throw console.error("API ".concat(a," Error: ").concat(e)),new Error(e)})));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return K.apply(this,arguments)}function K(){return(K=Object(O.a)(S.a.mark((function e(t){var a,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.status,console.log("HTML response code: ".concat(a)),W.includes(a)){e.next=10;break}return e.t0=Error,e.t1="".concat(a," - "),e.next=7,t.text();case 7:throw e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),new e.t0(e.t3);case 10:if(!(n=t.headers.get("content-type")).includes("json")){e.next=13;break}return e.abrupt("return",t.json().then((function(e){return console.log("Response content",{JSON:JSON.stringify(e,null,2)}),e})));case 13:return e.abrupt("return",t.text().then((function(e){return console.log("Response content not JSON, instead ".concat(n,": ").concat(e)),e})));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}k.generateCallableFunction("getPhoneNumberFromProfile");function $(){return function(){var e=Object(O.a)(S.a.mark((function e(t,a){var n,r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(X()),console.log("getState",a()),n=a().userReducer.org,e.prev=3,e.next=6,Y({method:"GET",endpoint:"admin/groups/".concat(n)});case 6:r=e.sent,o=r.groups,t(Z(o)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("getGroups thunk threw",e.t0),t(Q(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}()}var X=function(){return{type:"GET_GROUPS_BEGIN"}},Z=function(e){return{type:"GET_GROUPS_SUCCESS",payload:e}},Q=function(e){return{type:"GET_GROUPS_FAILURE",payload:{error:e}}},ee=function(){return{type:"ADD_GROUPS_BEGIN"}},te=function(e){return{type:"ADD_GROUPS_SUCCESS",payload:e}},ae=function(e){return{type:"ADD_GROUPS_FAILURE",payload:{error:e}}},ne=function(e){return{type:"REMOVE_GROUP_SUCCESS",payload:e}},re=function(e){return{type:"REMOVE_GROUP_FAILURE",payload:{error:e}}},oe=function(){return{type:"EDIT_MEMBERS_GROUP_BEGIN"}},ie=function(e){return{type:"EDIT_MEMBERS_GROUP_SUCCESS",payload:e}},se=function(e){return{type:"EDIT_MEMBERS_GROUP_FAILURE",payload:{error:e}}},le=a(253),ce=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e,t,a,n,o;if(this.props.button){var i=this.props.button;e=i.icon,t=i.buttonColor,a=i.buttonSize,n=i.buttonText,o=i.onButtonClick}return r.a.createElement("div",{className:"card".concat(this.props.plain?" card-plain":"")},r.a.createElement(R.a,{style:{padding:"15px"}},r.a.createElement(D.a,{xs:12},r.a.createElement("h4",{className:"title"},this.props.title),r.a.createElement("p",{className:"category"},this.props.category)),Boolean(this.props.button)&&r.a.createElement(D.a,{xs:4},r.a.createElement(le.a,{block:!0,bsSize:a||"med",bsStyle:t,className:"btn-fill",onClick:o},e&&r.a.createElement("i",{className:e})," ",n||"default buttonText"))),r.a.createElement("div",{className:"content".concat(this.props.ctAllIcons?" all-icons":"").concat(this.props.ctTableFullWidth?" table-full-width":"").concat(this.props.ctTableResponsive?" table-responsive":"").concat(this.props.ctTableUpgrade?" table-upgrade":"")},this.props.content,r.a.createElement("div",{className:"footer"},this.props.legend,null!=this.props.stats?r.a.createElement("hr",null):"",r.a.createElement("div",{className:"stats"},r.a.createElement("i",{className:this.props.statsIcon})," ",this.props.stats))))}}]),a}(n.Component),ue=ce,de=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card card-stats"},r.a.createElement("div",{className:"content"},r.a.createElement(R.a,null,r.a.createElement(D.a,{xs:5},r.a.createElement("div",{className:"icon-big text-center icon-warning"},this.props.bigIcon)),r.a.createElement(D.a,{xs:7},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",null,this.props.statsText),this.props.statsValue))),r.a.createElement("div",{className:"footer"},r.a.createElement("hr",null),r.a.createElement("div",{className:"stats"},this.props.statsIcon," ",this.props.statsIconText))))}}]),a}(n.Component);function pe(){return function(){var e=Object(O.a)(S.a.mark((function e(t,a){var n,r,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(fe()),console.log("getState",a()),n=a().userReducer.org,e.prev=3,e.next=6,Y({method:"GET",endpoint:"admin/org/summary?oid=".concat(n)});case 6:r=e.sent,o=r.org,t(be(o)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("getSessions thunk threw",e.t0),t(he(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}()}function me(e){return function(){var t=Object(O.a)(S.a.mark((function t(a,n){var r,o,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(ge()),console.log("getState",n()),r=n().userReducer,o=r.org,r.properties,t.prev=3,t.next=6,Y({method:"PATCH",endpoint:"admin/org/summary",body:{oid:o,properties:e.sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}))}});case 6:i=t.sent,s=i.org,a(Ee(s)),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),console.error("getSessions thunk threw",t.t0),a(ve(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e,a){return t.apply(this,arguments)}}()}var fe=function(){return{type:"GET_ORG_SUMMARY_BEGIN"}},be=function(e){return{type:"GET_ORG_SUMMARY_SUCCESS",payload:e}},he=function(e){return{type:"GET_ORG_SUMMARY_FAILURE",payload:{error:e}}},ge=function(){return{type:"UPDATE_ORG_SUMMARY_BEGIN"}},Ee=function(e){return{type:"UPDATE_ORG_SUMMARY_SUCCESS",payload:e}},ve=function(e){return{type:"UPDATE_ORG_SUMMARY_FAILURE",payload:{error:e}}},ye=a(45),Se=a(542),Oe=a(550),xe=a(540);function je(e){var t=e.universalOptions,a=e.buttonGroups,n=e.containerStyle,o=e.selectedField;return a?r.a.createElement("div",{style:Object(v.a)({paddingBottom:"20px",justifyContent:"center"},n)},a.map((function(e,a){return r.a.createElement(xe.a,{key:a,style:{paddingRight:"10px"}},e.map((function(e,a){var n=Object(v.a)(Object(v.a)({},t),e),i=n.text,s=n.size,l=n.color,c=n.icon,u=n.onClick,d=n.className,p=n.field;return r.a.createElement(le.a,{key:a,bsSize:s,bsStyle:o&&o!==p?void 0:l,onClick:u,className:d||"btn-fill"},c&&r.a.createElement("i",{className:c})," ",i)})))}))):null}je.defaultProps={universalOptions:{},containerStyle:{},selectedField:!1};var ke=je,we=a(252),Ce={display:"flex",width:"100%",height:"100%"},Ne={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},Te={borderColor:"#2196f3"},Re={borderColor:"#00e676"},De={borderColor:"#ff1744"};function _e(e){var t=e.targetText,a=e.infoText,o=e.acceptTypes,i=e.onFileDrop,s=Object(n.useState)(""),l=Object(E.a)(s,2),c=l[0],u=l[1],d=Object(n.useState)(""),p=Object(E.a)(d,2),m=p[0],f=p[1],b=Object(n.useCallback)((function(e){f(e.map((function(e){return e.name}))),e.forEach((function(e){var t=new FileReader;t.onabort=function(){return console.log("file reading was aborted")},t.onerror=function(){return console.log("file reading has failed")},t.onload=function(){var e=t.result;i(e)},t.readAsText(e)}))}),[]),h=Object(we.a)({onDrop:b,accept:o}),g=h.getRootProps,y=h.getInputProps,S=h.isDragActive,O=h.isDragAccept,x=h.isDragReject,j=Object(n.useMemo)((function(){return Object(v.a)(Object(v.a)(Object(v.a)(Object(v.a)({},Ne),S?Te:{}),O?Re:{}),x?De:{})}),[S,x,O]);return Object(n.useEffect)((function(){u(x&&S?"Invalid File Type":"")}),[x,S,u]),r.a.createElement("div",{className:Ce},r.a.createElement("div",g({style:j}),r.a.createElement("input",y()),r.a.createElement("h4",null,t),r.a.createElement("p",null,a),r.a.createElement("p",{className:"text-danger"},c)),r.a.createElement("div",null,r.a.createElement("p",null,"Selected Files:"," ",m?m.join(", "):"none")))}_e.defaultProps={targetText:"Drag 'n' drop some files here, or click to select files",infoText:"",acceptTypes:"image/*",onFileDrop:function(e){return console.log("file contents as binary:",e)}};var Me=_e,Ae=a(553),Ie=a(541),Ue=a(552),Pe=a(251);function Ge(e){var t=e.label,a=e.name,o=e.options,i=void 0!==o&&o,s=e.handleChange,l=e.checkboxes,c=Object(U.a)(e,["label","name","options","handleChange","checkboxes"]),u=Object(n.useState)({}),d=Object(E.a)(u,2),p=d[0],m=d[1];if(i&&[{value:void 0,label:"Select..."}].concat(Object(B.a)(i)),l){return r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,null,t),i&&i.map((function(e,t){return r.a.createElement(R.a,{key:t,style:{paddingLeft:"30px"},onClick:function(t){return function(e){var t={target:{value:!p[e.value]}};s(t,e.value);var a=Object(v.a)(Object(v.a)({},p),{},Object(ye.a)({},e.value,!p[e.value]));m(a),console.log("checkbox",{option:e,newData:a})}(e)}},r.a.createElement("input",{onClick:function(e){return console.log("ckbox",e.target.value)},key:t,type:"checkbox",checked:p[e.label]})," ",e.label)})))}return i?r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,null,t),r.a.createElement(Pe.a,{isClearable:!0,isSearchable:!0,className:"basic-single",classNamePrefix:"select",name:a,options:i,onChange:function(e){return s({target:{value:e.value}},a)}})):r.a.createElement(Ae.a,null,r.a.createElement(Ie.a,null,t),r.a.createElement(Ue.a,Object.assign({onChange:function(e){return s(e,a)}},c)))}var Fe=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){for(var e=this.props.invisibleFieldNames||[],t=[],a=0;a<this.props.ncols.length;a++)e.includes(this.props.properties[a].name)||t.push(r.a.createElement("div",{key:a,className:this.props.ncols[a]},r.a.createElement(Ge,Object.assign({handleChange:this.props.handleChange},this.props.properties[a]))));return r.a.createElement(R.a,null,t)}}]),a}(n.Component),Le=Fe;Ve.defaultProps={infoText:"",onSubmit:function(e){return console.log("form submitted",e)},hideFile:!1,processFile:function(e){return{phone:e.split(",")}},exampleFilePath:!1,onChangeSetFieldInvisibility:function(){return[]}};var Be="form",He="file";function Ve(e){var t=e.header,a=e.infoText,o=e.form,i=e.onSubmit,s=e.isOpen,l=e.toggleOpen,c=e.hideFile,u=e.processFile,d=e.exampleFilePath,p=e.onChangeSetFieldInvisibility,m=Object(n.useState)(Be),f=Object(E.a)(m,2),b=f[0],h=f[1],g=Object(n.useState)({}),y=Object(E.a)(g,2),S=y[0],O=y[1],x=Object(n.useState)(p({})),j=Object(E.a)(x,2),k=j[0],w=j[1];function C(){O({}),setTimeout((function(){l(!1)}),100)}var N=c?[[{text:"Form",onClick:function(){return h(Be)},field:Be,icon:"pe-7s-note2"}]]:[[{text:"Form",onClick:function(){return h(Be)},field:Be,icon:"pe-7s-note2"},{text:"File Upload",onClick:function(){return h(He)},icon:"pe-7s-copy-file",field:He}]];return r.a.createElement(Oe.a,{show:s,onHide:C},r.a.createElement(Oe.a.Header,{closeButton:!0},t),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",null,r.a.createElement(ke,{universalOptions:{color:"info"},buttonGroups:N,selectedField:b}),r.a.createElement("p",null,a),b===Be&&r.a.createElement(Le,{ncols:o.map((function(){return"col-xs-12"})),handleChange:function(e,t){console.log("AddModal form change",{name:t,value:e.target.value});var a=Object(v.a)(Object(v.a)({},S),{},Object(ye.a)({},t,e.target.value));O(a),w(p(a))},properties:o,invisibleFieldNames:k}),b===He&&r.a.createElement(Me,{targetText:"Upload formatted CSV file",acceptTypes:".csv, application/vnd.ms-excel, text/csv",onFileDrop:function(e){console.log("addModal raw data",e),O(u(e))}}))),r.a.createElement(Oe.a.Footer,null,d&&r.a.createElement(Se.a,{color:"success",style:{float:"left"},href:d},"Example File"),r.a.createElement(Se.a,{color:"primary",onClick:function(e){console.log("AddModal confirm",{inputData:S}),i(S),C()}},"Continue")," ",r.a.createElement(Se.a,{color:"secondary",onClick:C},"Cancel")))}var ze=Ve,We=a(543),Ye=a(554);function Je(e){var t=e.header,a=e.infoText,o=e.onSubmit,i=e.isOpen,s=e.toggleOpen,l=e.form,c=Object(n.useState)({}),u=Object(E.a)(c,2),d=u[0],p=u[1];function m(){p({}),setTimeout((function(){s(!1)}),100)}return r.a.createElement(Oe.a,{show:i,onHide:m},r.a.createElement(Oe.a.Header,{closeButton:!0},t),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",null,r.a.createElement("p",null,a),r.a.createElement(Le,{ncols:l.map((function(){return"col-xs-12"})),handleChange:function(e,t){console.log("EditModal form change",{name:t,value:e.target.value});var a=Object(v.a)(Object(v.a)({},d),{},Object(ye.a)({},t,e.target.value));p(a)},properties:l}))),r.a.createElement(Oe.a.Footer,null,r.a.createElement(Se.a,{color:"primary",onClick:function(){console.log("EditModal confirm",d),o(d),m()}},"Continue")," ",r.a.createElement(Se.a,{color:"secondary",onClick:m},"Cancel")))}Je.defaultProps={infoText:"",onSubmit:function(e){return console.log("form submitted",e)}};var qe=Je,Ke=a(6),$e=a.n(Ke),Xe=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.fill,a=e.simple,n=e.pullRight,o=e.round,i=e.block,s=Object(U.a)(e,["fill","simple","pullRight","round","block"]),l=$e()({"btn-fill":t,"btn-simple":a,"pull-right":n,"btn-block":i,"btn-round":o});return r.a.createElement(le.a,Object.assign({className:l},s))}}]),a}(n.Component);var Ze=Object(s.b)((function(e){var t=e.userReducer;return{orgState:t.org,loading:t.loading,properties:t.properties}}),(function(e,t){return{getData:function(){return e(pe())},setProperties:function(t){return e(me(t))}}}))((function(e){var t=e.setProperties,a=e.getData,o=e.properties,i=e.loading,s=Object(n.useState)(),l=Object(E.a)(s,2),c=l[0],u=l[1],d=Object(n.useState)(),p=Object(E.a)(d,2),m=p[0],f=p[1];Object(n.useEffect)((function(){o&&!o.includes("Loading...")||a()}),[]);var b=r.a.createElement(We.a,{id:"edit_tooltip"},"Edit"),h=r.a.createElement(We.a,{id:"remove_tooltip"},"Remove"),g=o||["Loading..."];console.log("Labels",i);for(var v=[],y=function(e){"checkbox".concat(e),v.push(r.a.createElement("tr",{key:e},r.a.createElement("td",null,g[e]),r.a.createElement("td",{className:"td-actions text-right"},r.a.createElement(Ye.a,{placement:"top",overlay:b},r.a.createElement(Xe,{bsStyle:"info",simple:!0,type:"button",bsSize:"xs",onClick:function(){return t=g[e],f(!0),void u(t);var t}},r.a.createElement("i",{className:"fa fa-edit"}))),r.a.createElement(Ye.a,{placement:"top",overlay:h},r.a.createElement(Xe,{bsStyle:"danger",simple:!0,type:"button",bsSize:"xs",onClick:function(){return a=g[e],void t(o.filter((function(e){return e!==a})));var a}},r.a.createElement("i",{className:"fa fa-times"}))))))},S=0;S<g.length;S++)y(S);return r.a.createElement("tbody",null,v,r.a.createElement(qe,{onSubmit:function(e){t([].concat(Object(B.a)(o.filter((function(e){return e!==c}))),[e.property]))},isOpen:m,toggleOpen:function(){return f(!m)},header:"Add Subjects to Organization",infoText:'\n      Subjects are central to providing context to the platform.\n      Groups, sessions, and providers operate with subjects.\n      For example a subject of "Beginning Spanish" will be for early spanish learners.\n      A session with "Spanish 1" will be between users learning beginning spanish.\n      ',form:[{name:"property",label:"Edit Subject",type:"text",bsClass:"form-control",placeholder:"Beginning Spanish",defaultValue:c}]}))}));var Qe=Object(s.b)((function(e){var t=e.userReducer;return{orgState:t.org,loading:t.loading,properties:t.properties}}),(function(e,t){return{setProperties:function(t){return e(me(t))}}}))((function(e){var t=e.setProperties,a=e.properties,o=Object(n.useState)(),i=Object(E.a)(o,2),s=i[0],l=i[1],c=r.a.createElement(ze,{onSubmit:function(e){Array.isArray(e.property)?t([].concat(Object(B.a)(a),Object(B.a)(e.property))):t([].concat(Object(B.a)(a),[e.property]))},isOpen:s,toggleOpen:function(){return l(!s)},processFile:function(e){return{property:e.split(",")}},header:"Add Subjects to Organization",infoText:'\n      Subjects are central to providing context to the platform.\n      Groups, sessions, and providers operate with subjects.\n      For example a subject of "Beginning Spanish" will be for early spanish learners.\n      A session with "Spanish 1" will be between users learning beginning spanish.\n      ',form:[{name:"property",label:"New Subject",type:"text",bsClass:"form-control",placeholder:"Beginning Spanish"}]});return r.a.createElement(D.a,{md:6},r.a.createElement(ce,{title:"Subjects",category:"Active subjects for your organization for sessions and groups",stats:"Updated now",statsIcon:"fa fa-history",button:{buttonColor:"info",icon:"pe-7s-plus",buttonText:"Add",onButtonClick:function(){return l(!0)}},content:r.a.createElement("div",{className:"table-full-width"},r.a.createElement("table",{className:"table"},r.a.createElement(Ze,null)))}),c)}));var et=function(e){var t=e.searchType,a=e.searchProperties,o=e.cols,i=e.onSearch,s=void 0===i?function(e){return console.log("Search form submit triggered")}:i,l=Object(n.useState)(),c=Object(E.a)(l,2),u=c[0],d=c[1];return r.a.createElement("div",{className:"content"},r.a.createElement(ce,{title:"Search ".concat(t),content:r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),s(u)},style:{paddingBottom:"1rem"}},r.a.createElement(Fe,{ncols:o,handleChange:function(e,t){d(Object(v.a)(Object(v.a)({},u),{},Object(ye.a)({},t,e.target.value)))},properties:a}),r.a.createElement(Xe,{bsStyle:"info",pullRight:!0,fill:!0,type:"submit"},"Search"," ",t))}))};var tt=function(e){function t(e){for(var t=[],a=0;a<e.names.length;a++){var n="fa fa-circle text-".concat(e.types[a]);t.push(r.a.createElement("i",{className:n,key:a})),t.push(" "),t.push(e.names[a])}return t}var a=r.a.createElement(R.a,null,r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"pe-7s-server text-warning"}),statsText:"Tutors",statsValue:"3",statsIcon:r.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"6 Hours Ago"})),r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"pe-7s-wallet text-success"}),statsText:"Students",statsValue:"10",statsIcon:r.a.createElement("i",{className:"fa fa-calendar-o"}),statsIconText:"6 Hours Ago"})),r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"pe-7s-graph1 text-danger"}),statsText:"All Sessions Last Week",statsValue:"223",statsIcon:r.a.createElement("i",{className:"fa fa-clock-o"}),statsIconText:"6 Hours Ago"})),r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"fa fa-graduation-cap text-info"}),statsText:"Tutor Sessions Last Week",statsValue:"+45",statsIcon:r.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"6 Hours Ago"}))),n=r.a.createElement(R.a,null,r.a.createElement(D.a,{md:12},r.a.createElement(ce,{statsIcon:"fa fa-history",id:"chartHours",title:"Users Behavior (Mockup)",category:"24 Hours performance",statsIconText:"6 Hours Ago",content:r.a.createElement("div",{className:"ct-chart"},r.a.createElement(L.a,{data:G.dataSales,type:"Line",options:G.optionsSales,responsiveOptions:G.responsiveSales})),legend:r.a.createElement("div",{className:"legend"},t(G.legendSales))}))),o=r.a.createElement(D.a,{md:6},r.a.createElement(ce,{id:"chartActivity",title:"Last 6 Months of Sessions (Mockup)",category:"All products including Taxes",stats:"6 Hours Ago",statsIcon:"fa fa-clock-o",content:r.a.createElement("div",{className:"ct-chart"},r.a.createElement(L.a,{data:G.dataBar,type:"Bar",options:G.optionsBar,responsiveOptions:G.responsiveBar})),legend:r.a.createElement("div",{className:"legend"},t(G.legendBar))})),i=r.a.createElement(R.a,null,r.a.createElement(D.a,{xs:12},r.a.createElement("p",{className:"text-muted"},"Fill in one or more fields to search items")),r.a.createElement(D.a,{md:6,sm:12},r.a.createElement(et,{searchType:"Students",onSearch:function(t){console.log("onSearchStudent formData",t),e.history.push("/admin/students",{filters:t})},cols:["col-xs-6","col-xs-6"],searchProperties:[{label:"Name",name:"name",type:"text",bsClass:"form-control",placeholder:"Dave Franco"},{label:"Phone Number",name:"phone",type:"text",bsClass:"form-control",placeholder:"5033102400"}]})),r.a.createElement(D.a,{md:6,sm:12},r.a.createElement(et,{searchType:"Tutors",cols:["col-xs-6","col-xs-6"],onSearch:function(t){console.log("onSearchProvider formData",t),e.history.push("/admin/providers",{filters:t})},searchProperties:[{label:"Name",type:"text",name:"name",bsClass:"form-control",placeholder:"Username"},{label:"Phone Number",type:"phone",name:"phone",bsClass:"form-control",placeholder:"5033102400"}]})),r.a.createElement(D.a,{md:6,sm:12},r.a.createElement(et,{searchType:"Groups",cols:["col-xs-6","col-xs-6"],onSearch:function(t){console.log("onSearchGroup formData",t),e.history.push("/admin/groups",{filters:t})},searchProperties:[{label:"Description",type:"text",name:"info",bsClass:"form-control",placeholder:"Username"},{label:"Member (name)",type:"name",name:"members",bsClass:"form-control",placeholder:"Email"}]})),r.a.createElement(D.a,{md:6,sm:12},r.a.createElement(et,{searchType:"Sessions",cols:["col-sm-3","col-sm-3","col-sm-3","col-sm-3"],onSearch:function(t){console.log("onSearchSession formData",t),e.history.push("/admin/sessions",{filters:t})},searchProperties:[{label:"Name",type:"name",name:"name",bsClass:"form-control",placeholder:"Study Session"},{label:"About",type:"text",name:"about",bsClass:"form-control",placeholder:"Hotdogs"},{label:"Subject",type:"text",name:"subjects",bsClass:"form-control",placeholder:"Math 4"},{label:"Member (name)",type:"name",name:"members",bsClass:"form-control",placeholder:"Frank"}]})));return r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{fluid:!0},a,n,r.a.createElement(R.a,null,o,r.a.createElement(Qe,null)),i))},at=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"createLegend",value:function(e){for(var t=[],a=0;a<e.names.length;a++){var n="fa fa-circle text-".concat(e.types[a]);t.push(r.a.createElement("i",{className:n,key:a})),t.push(" "),t.push(e.names[a])}return t}},{key:"onSearchGroup",value:function(e){alert("Search Group: ".concat(JSON.stringify(e)))}},{key:"onSearchStudent",value:function(e){alert("Search Student: ".concat(JSON.stringify(e)))}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement(D.a,{lg:6,sm:12},r.a.createElement(et,{searchType:"Student",onSearch:this.onSearchStudent,cols:["col-xs-6","col-xs-6"],searchProperties:[{label:"Name",name:"name",type:"text",bsClass:"form-control",placeholder:"Dave Franco"},{label:"Phone Number",name:"phone",type:"text",bsClass:"form-control",placeholder:"5033102400"}]})),r.a.createElement(D.a,{lg:6,sm:12},r.a.createElement(et,{searchType:"Group",cols:["col-xs-6","col-xs-6"],onSearch:this.onSearchGroup,searchProperties:[{label:"Label",type:"text",name:"label",bsClass:"form-control",placeholder:"Username"},{label:"Phone Number",type:"phone",name:"phone",bsClass:"form-control",placeholder:"Email"}]}))),r.a.createElement(R.a,null,r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"pe-7s-server text-warning"}),statsText:"Capacity",statsValue:"105GB",statsIcon:r.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"})),r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"pe-7s-wallet text-success"}),statsText:"Revenue",statsValue:"$1,345",statsIcon:r.a.createElement("i",{className:"fa fa-calendar-o"}),statsIconText:"Last day"})),r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"pe-7s-graph1 text-danger"}),statsText:"Errors",statsValue:"23",statsIcon:r.a.createElement("i",{className:"fa fa-clock-o"}),statsIconText:"In the last hour"})),r.a.createElement(D.a,{lg:3,sm:6},r.a.createElement(de,{bigIcon:r.a.createElement("i",{className:"fa fa-twitter text-info"}),statsText:"Followers",statsValue:"+45",statsIcon:r.a.createElement("i",{className:"fa fa-refresh"}),statsIconText:"Updated now"}))),r.a.createElement(R.a,null,r.a.createElement(D.a,{md:8},r.a.createElement(ce,{statsIcon:"fa fa-history",id:"chartHours",title:"Users Behavior",category:"24 Hours performance",stats:"Updated 6 hours ago",content:r.a.createElement("div",{className:"ct-chart"},r.a.createElement(L.a,{data:G.dataSales,type:"Line",options:G.optionsSales,responsiveOptions:G.responsiveSales})),legend:r.a.createElement("div",{className:"legend"},this.createLegend(G.legendSales))})),r.a.createElement(D.a,{md:4},r.a.createElement(ce,{statsIcon:"fa fa-clock-o",title:"Email Statistics",category:"Last Campaign Performance",stats:"Campaign sent 2 days ago",content:r.a.createElement("div",{id:"chartPreferences",className:"ct-chart ct-perfect-fourth"},r.a.createElement(L.a,{data:G.dataPie,type:"Pie"})),legend:r.a.createElement("div",{className:"legend"},this.createLegend(G.legendPie))}))),r.a.createElement(R.a,null,r.a.createElement(D.a,{md:6},r.a.createElement(ce,{id:"chartActivity",title:"2014 Sessions",category:"All products including Taxes",stats:"Data information certified",statsIcon:"fa fa-check",content:r.a.createElement("div",{className:"ct-chart"},r.a.createElement(L.a,{data:G.dataBar,type:"Bar",options:G.optionsBar,responsiveOptions:G.responsiveBar})),legend:r.a.createElement("div",{className:"legend"},this.createLegend(G.legendBar))})),r.a.createElement(D.a,{md:6},r.a.createElement(ce,{title:"Labels",category:"Active labels for your organization",stats:"Updated 3 minutes ago",statsIcon:"fa fa-history",content:r.a.createElement("div",{className:"table-full-width"},r.a.createElement("table",{className:"table"},r.a.createElement(Ze,null)))})))))}}]),a}(n.Component),nt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"card card-user"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{src:this.props.bgImage,alt:"..."})),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"author"},r.a.createElement("a",{href:"#pablo"},r.a.createElement("img",{className:"avatar border-gray",src:this.props.avatar,alt:"..."}),r.a.createElement("h4",{className:"title"},this.props.name,r.a.createElement("br",null),r.a.createElement("small",null,this.props.userName)))),r.a.createElement("p",{className:"description text-center"},this.props.description)),r.a.createElement("hr",null),r.a.createElement("div",{className:"text-center"},this.props.socials))}}]),a}(n.Component),rt=a(247),ot=a.n(rt),it=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement(D.a,{md:8},r.a.createElement(ce,{title:"Edit Profile",content:r.a.createElement("form",null,r.a.createElement(Fe,{ncols:["col-md-5","col-md-3","col-md-4"],properties:[{label:"Company (disabled)",type:"text",bsClass:"form-control",placeholder:"Company",defaultValue:"Creative Code Inc.",disabled:!0},{label:"Username",type:"text",bsClass:"form-control",placeholder:"Username",defaultValue:"michael23"},{label:"Email address",type:"email",bsClass:"form-control",placeholder:"Email"}]}),r.a.createElement(Fe,{ncols:["col-md-6","col-md-6"],properties:[{label:"First name",type:"text",bsClass:"form-control",placeholder:"First name",defaultValue:"Mike"},{label:"Last name",type:"text",bsClass:"form-control",placeholder:"Last name",defaultValue:"Andrew"}]}),r.a.createElement(Fe,{ncols:["col-md-12"],properties:[{label:"Adress",type:"text",bsClass:"form-control",placeholder:"Home Adress",defaultValue:"Bld Mihail Kogalniceanu, nr. 8 Bl 1, Sc 1, Ap 09"}]}),r.a.createElement(Fe,{ncols:["col-md-4","col-md-4","col-md-4"],properties:[{label:"City",type:"text",bsClass:"form-control",placeholder:"City",defaultValue:"Mike"},{label:"Country",type:"text",bsClass:"form-control",placeholder:"Country",defaultValue:"Andrew"},{label:"Postal Code",type:"number",bsClass:"form-control",placeholder:"ZIP Code"}]}),r.a.createElement(R.a,null,r.a.createElement(D.a,{md:12},r.a.createElement(Ae.a,{controlId:"formControlsTextarea"},r.a.createElement(Ie.a,null,"About Me"),r.a.createElement(Ue.a,{rows:"5",componentClass:"textarea",bsClass:"form-control",placeholder:"Here can be your description",defaultValue:"Lamborghini Mercy, Your chick she so thirsty, I'm in that two seat Lambo."})))),r.a.createElement(Xe,{bsStyle:"info",pullRight:!0,fill:!0,type:"submit"},"Update Profile"),r.a.createElement("div",{className:"clearfix"}))})),r.a.createElement(D.a,{md:4},r.a.createElement(nt,{bgImage:"https://ununsplash.imgix.net/photo-1431578500526-4d9613015464?fit=crop&fm=jpg&h=300&q=75&w=400",avatar:ot.a,name:"Mike Andrew",userName:"michael24",description:r.a.createElement("span",null,'"Lamborghini Mercy',r.a.createElement("br",null),"Your chick she so thirsty",r.a.createElement("br",null),"I'm in that two seat Lambo\""),socials:r.a.createElement("div",null,r.a.createElement(Xe,{simple:!0},r.a.createElement("i",{className:"fa fa-facebook-square"})),r.a.createElement(Xe,{simple:!0},r.a.createElement("i",{className:"fa fa-twitter"})),r.a.createElement(Xe,{simple:!0},r.a.createElement("i",{className:"fa fa-google-plus-square"})))})))))}}]),a}(n.Component),st=a(544),lt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement(D.a,{md:12},r.a.createElement(ue,{title:"Striped Table with Hover",category:"Here is a subtitle for this table",ctTableFullWidth:!0,ctTableResponsive:!0,content:r.a.createElement(st.a,{striped:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,G.thArray.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,G.tdArray.map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(e,t){return r.a.createElement("td",{key:t},e)})))}))))})),r.a.createElement(D.a,{md:12},r.a.createElement(ue,{plain:!0,title:"Striped Table with Hover",category:"Here is a subtitle for this table",ctTableFullWidth:!0,ctTableResponsive:!0,content:r.a.createElement(st.a,{hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,G.thArray.map((function(e,t){return r.a.createElement("th",{key:t},e)})))),r.a.createElement("tbody",null,G.tdArray.map((function(e,t){return r.a.createElement("tr",{key:t},e.map((function(e,t){return r.a.createElement("td",{key:t},e)})))}))))})))))}}]),a}(n.Component),ct=a(84);var ut=k.generateCallableFunction("getPhoneNumberFromProfile");function dt(){return function(){var e=Object(O.a)(S.a.mark((function e(t,a){var n,r,o,i,s,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(pt()),n=a().userReducer.org,e.prev=2,e.next=5,Y({method:"GET",endpoint:"admin/profiles/consumer/".concat(n)});case 5:return r=e.sent,o=r.profiles,i=r.invites,s=o.map((function(e){return e.uuid})),e.next=10,ut({uuids:s});case 10:l=e.sent,console.log({profilePhoneNumbers:l}),l.data.forEach((function(e,t){o[t].phone=e})),t(mt([].concat(Object(B.a)(o),Object(B.a)(i)))),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.error("getStudents thunk threw",e.t0),t(ft(e.t0.message));case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,a){return e.apply(this,arguments)}}()}var pt=function(){return{type:"GET_STUDENTS_BEGIN"}},mt=function(e){return{type:"GET_STUDENTS_SUCCESS",payload:e}},ft=function(e){return{type:"GET_STUDENTS_FAILURE",payload:{error:e}}},bt=function(){return{type:"ADD_STUDENTS_BEGIN"}},ht=function(e){return{type:"ADD_STUDENTS_SUCCESS",payload:e}},gt=function(e){return{type:"ADD_STUDENTS_FAILURE",payload:{error:e}}},Et=function(e){return{type:"REMOVE_STUDENT_SUCCESS",payload:e}},vt=function(e){return{type:"REMOVE_STUDENT_FAILURE",payload:{error:e}}};var yt=function(){return r.a.createElement("div",{style:{fontSize:"32px",color:"white",background:"red",borderRadius:"100%",justifyContent:"center",textAlign:"center",maxWidth:"40px"}},r.a.createElement("i",{className:"pe-7s-delete-user"}))};var St=function(){return r.a.createElement("div",{style:{fontSize:"32px",color:"white",background:"red",borderRadius:"100%",justifyContent:"center",textAlign:"center",maxWidth:"40px"}},r.a.createElement("i",{className:"pe-7s-trash"}))};var Ot=function(){return r.a.createElement("div",{style:{fontSize:"32px",color:"white",background:"green",borderRadius:"100%",justifyContent:"center",textAlign:"center",maxWidth:"40px"}},r.a.createElement("i",{className:"pe-7s-add-user"}))},xt=a(545),jt=a(546);var kt=function(e){var t=e.onConfirm,a=e.isOpen,o=e.toggleOpen,i=e.text,s=void 0===i?"Warning: This cannot be undone":i,l=e.header,c=void 0===l?"Confirm Action":l,u=e.confirmTextDisplay,d=void 0===u?'To proceed type "Confirm" here and click Continue':u,p=e.confirmTextCheck,m=void 0===p?"Confirm":p,f=e.delay,b=void 0!==f&&f,h=Object(n.useState)(!1),g=Object(E.a)(h,2),v=g[0],y=g[1],S=Object(n.useState)(""),O=Object(E.a)(S,2),x=O[0],j=O[1],k=function(){x!==m&&m||(console.log({onConfirm:typeof t}),t(x),o())};return Object(n.useEffect)((function(){!1===b||!1===a?y(!0):(y(!1),setTimeout((function(){y(!0)}),b))}),[a,b]),!1===v?r.a.createElement(Oe.a,{show:a,onHide:o},r.a.createElement(Oe.a.Header,{closeButton:!0},c),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",{style:{justifyContent:"center",width:"100%"}},r.a.createElement("h1",null,"Loading...")),r.a.createElement(Se.a,{color:"primary",onClick:k,disabled:!0},"Continue")," ",r.a.createElement(Se.a,{color:"secondary",onClick:o},"Cancel"))):r.a.createElement(Oe.a,{show:a,onHide:o},r.a.createElement(Oe.a.Header,{closeButton:!0},c),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",null,r.a.createElement(xt.a,null,s),m&&r.a.createElement(jt.a,{placeholder:d,value:x,onChange:function(e){return j(e.target.value)}}),r.a.createElement(xt.a,null," "))),r.a.createElement(Oe.a.Footer,null,r.a.createElement(Se.a,{color:"primary",onClick:k},"Continue")," ",r.a.createElement(Se.a,{color:"secondary",onClick:o},"Cancel")))},wt=a(85),Ct=a(56);var Nt=k.generateCallableFunction("getPhoneNumberFromProfile");function Tt(){return function(){var e=Object(O.a)(S.a.mark((function e(t,a){var n,r,o,i,s,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Rt()),console.log("getState",a()),n=a().userReducer.org,e.prev=3,"?limit=500",e.next=7,Y({method:"GET",endpoint:"admin/profiles/provider/".concat(n).concat("?limit=500")});case 7:return r=e.sent,o=r.profiles,i=r.invites,s=o.map((function(e){return e.uuid})),e.next=12,Nt({uuids:s});case 12:l=e.sent,console.log({profilePhoneNumbers:l}),l.data&&l.data.forEach((function(e,t){"string"===typeof e&&(o[t].phone=e)})),t(Dt([].concat(Object(B.a)(o),Object(B.a)(i)))),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error("getProviders thunk threw",e.t0),t(_t(e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t,a){return e.apply(this,arguments)}}()}var Rt=function(){return{type:"GET_PROVIDERS_BEGIN"}},Dt=function(e){return{type:"GET_PROVIDERS_SUCCESS",payload:e}},_t=function(e){return{type:"GET_PROVIDERS_FAILURE",payload:{error:e}}},Mt=function(){return{type:"ADD_PROVIDERS_BEGIN"}},At=function(e){return{type:"ADD_PROVIDERS_SUCCESS",payload:e}},It=function(e){return{type:"ADD_PROVIDERS_FAILURE",payload:{error:e}}},Ut=function(e){return{type:"REMOVE_PROVIDER_SUCCESS",payload:e}},Pt=function(e){return{type:"REMOVE_PROVIDER_FAILURE",payload:{error:e}}};k.generateCallableFunction("getPhoneNumberFromProfile");function Gt(){return function(){var e=Object(O.a)(S.a.mark((function e(t,a){var n,r,o,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Ft()),console.log("getState",a()),n=a().userReducer.org,e.prev=3,r="?org=".concat(n,"&limit=500"),e.next=7,Y({method:"GET",endpoint:"session/query".concat(r)});case 7:o=e.sent,i=Object.values(o),t(Lt(i)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("getSessions thunk threw",e.t0),t(Bt(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}()}var Ft=function(){return{type:"GET_SESSIONS_BEGIN"}},Lt=function(e){return{type:"GET_SESSIONS_SUCCESS",payload:e}},Bt=function(e){return{type:"GET_SESSIONS_FAILURE",payload:{error:e}}},Ht=function(){return{type:"ADD_SESSIONS_BEGIN"}},Vt=function(e){return{type:"ADD_SESSIONS_SUCCESS",payload:e}},zt=function(e){return{type:"ADD_SESSIONS_FAILURE",payload:{error:e}}},Wt=function(e){return{type:"REMOVE_SESSION_SUCCESS",payload:e}},Yt=function(e){return{type:"REMOVE_SESSION_FAILURE",payload:{error:e}}},Jt=function(e){return{type:"EDIT_USERS_SUCCESS",payload:e}},qt=function(e){return{type:"EDIT_USERS_FAILURE",payload:{error:e}}},Kt=a(125);var $t=function(){return r.a.createElement("div",{style:{textAlign:"center",color:"#1DC7EA",fontSize:"50px",width:"100%"}},r.a.createElement("i",{style:{width:"100px",lineHeight:"100px"},className:"fa fa-spinner fa-spin"}))},Xt=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={is_checked:!(!e.isChecked&&!e.value)},n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(d.a)(a,[{key:"handleClick",value:function(){this.setState({is_checked:!this.state.is_checked})}},{key:"render",value:function(){var e=this.props,t=(e.isChecked,e.number),a=e.label,n=e.inline,o=Object(U.a)(e,["isChecked","number","label","inline"]),i=void 0!==n?"checkbox checkbox-inline":"checkbox";return r.a.createElement("div",{className:i},r.a.createElement("input",Object.assign({id:t,type:"checkbox",onChange:this.handleClick,checked:this.state.is_checked},o)),r.a.createElement("label",{htmlFor:t},a))}}]),a}(n.Component);Qt.defaultProps={infoText:""};var Zt={students:"students",teachers:"teachers",groups:"groups"};function Qt(e){var t=e.header,a=e.infoText,o=e.orgState,i=e.defaultMembersOf,s=e.isOpen,l=e.toggleOpen,c=e.itemData,u=e.isLoading,d=e.studentList,p=e.groupList,m=e.providerList,f=e.getStudentData,b=e.getGroupData,h=e.getProviderData,g=e.editMembersGroup,y=e.editMembersSession,S=Object(n.useState)(null),O=Object(E.a)(S,2),x=O[0],j=O[1],k=Object(n.useState)(i),w=Object(E.a)(k,2),C=w[0],N=w[1];Object(n.useEffect)((function(){N(i)}),[i]);var T=Object(n.useState)("Group"===i?Zt.students:Zt.groups),R=Object(E.a)(T,2),D=R[0],_=R[1],M=Object(n.useMemo)((function(){if(console.log("ManageMembersModalModal rowData memo",{providerList:m,studentList:d,itemData:c,groupList:p,membersOf:C}),D===Zt.students)return d.filter((function(e){return Boolean(e.profile)})).map((function(e){return Object(ct.mapStudentMembersAgGridRows)(e,c,o)}));if(D===Zt.groups)return p.map((function(e){return Object(wt.mapGroupMembersAgGridRows)(e,c,o)}));if(D===Zt.teachers)return m.filter((function(e){return e.profile&&e.profile.org.includes("".concat(o,"_TEACHER"))})).map((function(e){return Object(Ct.mapProviderMembersAgGridRows)(e,c,o)}));if(D===Zt.tutors)return m.filter((function(e){return e.profile&&e.profile.org.includes("".concat(o,"_TEACHER"))})).map((function(e){return Object(Ct.mapProviderMembersAgGridRows)(e,c,o)}));throw new Error("ManageMembersModal modal tableDataSource not recognized: ".concat(D))}),[d,m,p,c,D]),A=Object(n.useMemo)((function(){if(D===Zt.students)return Object(ct.generateStudentMembersAgGridColumns)();if(D===Zt.groups)return Object(wt.generateGroupMembersAgGridColumns)();if(D===Zt.teachers)return Object(Ct.generateProviderMembersAgGridColumns)();if(D===Zt.tutors)return Object(Ct.generateProviderMembersAgGridColumns)();throw new Error("ManageMembersModal modal tableDataSource not recognized: ".concat(D))}),[D]);function I(){setTimeout((function(){l(!1)}),100)}function U(e){D===Zt.students&&function(e){var t,a;e.value?a=[e.data.id]:t=[e.data.id],"Sent"===e.data.invite?window.alert("A user must accept the invitation to your group before they can be assigned"):g({id:c.gid,addMembers:t,removeMembers:a})}(e),D===Zt.groups&&function(e){var t,a;console.log("cell click",c,e);var n=e.data.activeMembers;e.value?a=n:t=n,y({gid:e.data.id,id:c.sid,addMembers:t,removeMembers:a})}(e),D===Zt.teachers&&function(e){var t,a;e.value?a=[e.data.id]:t=[e.data.id],"Sent"===e.data.invite?window.alert("A user must accept the invitation to your group before they can be assigned"):y({id:c.sid,addMembers:t,removeMembers:a,areLeaders:!0})}(e),D===Zt.tutors&&window.alert("\n      Tutors cannot be switched from sessions. \n      Delete a session and reschedule to remove tutor.\n    ")}Object(n.useEffect)((function(){Object.keys(M).length<1&&(D===Zt.students&&f(),D===Zt.groups&&b(),D===Zt.teachers&&h(),D===Zt.tutors&&h())}),[M]);var P={frameworkComponents:{checkbox:Xt},defaultColumnDefs:{resizable:!0,minWidth:100,filter:!0,flex:1,autoHeight:!0},defaultRowData:{autoHeight:!0,resizable:!0}};var G="Group"===C?[[{text:"Students",onClick:function(){return _(Zt.students)},icon:"pe-7s-note2"}]]:"Classroom"===c.type?[[{text:"Group",onClick:function(){return _(Zt.groups)},icon:"pe-7s-note2"},{text:"Teacher",onClick:function(){return _(Zt.teachers)},icon:"pe-7s-copy-file"}]]:"Classroom"===c.type?[[{text:"Group",onClick:function(){return _(Zt.groups)},icon:"pe-7s-note2"},{text:"Tutor",onClick:function(){return _(Zt.tutors)},icon:"pe-7s-copy-file"}]]:[];return r.a.createElement(Oe.a,{show:s,onHide:I,bsSize:"large"},r.a.createElement(Oe.a.Header,{closeButton:!0,style:{textAlign:"center"}},r.a.createElement("span",null,c.name||c.info),r.a.createElement("span",{style:{float:"left"}},t)),r.a.createElement(Oe.a.Body,null,r.a.createElement("div",null,r.a.createElement("p",null,a),r.a.createElement(ke,{universalOptions:{color:"info"},buttonGroups:G}),"Group"===i&&r.a.createElement("div",{style:{overflow:"hidden",marginBottom:"5px"}},r.a.createElement(Se.a,{style:{float:"right"},onClick:function(){x.forEachNodeAfterFilter((function(e,t){console.log("filtered row",{node:e,index:t})}))}},"Select All Visible")),r.a.createElement("div",{className:"ag-theme-alpine",style:{height:"70vh",width:"100%",maxWidth:"1500px",justifyContent:"center"}},u?r.a.createElement($t,null):r.a.createElement(Kt.AgGridReact,{animateRows:!0,onGridReady:function(e){j(e.api)},onCellClicked:function(e){"Is Member?"===e.colDef.headerName?console.log("ManageMembersModal row toggle",e.data):"Enrolled"===e.colDef.headerName&&U(e)},frameworkComponents:P.frameworkComponents,columnDefs:A.map((function(e){return Object(v.a)(Object(v.a)({},P.defaultColumnDefs),e)})),rowData:M.map((function(e){return Object(v.a)(Object(v.a)({},P.defaultRowData),e)})).sort((function(e,t){return e.isIncluded&&!t.isIncluded?-1:1}))})))),r.a.createElement(Oe.a.Footer,null,r.a.createElement(Se.a,{color:"secondary",onClick:I},"Close")))}var ea=Object(s.b)((function(e){var t=e.userReducer,a=e.studentsReducer,n=e.groupsReducer,r=e.providersReducer,o=e.sessionsReducer;return{orgState:t.org,studentList:a.list,providerList:r.list,groupList:n.list,isLoading:n.loading||a.loading||r.loading||o.loading}}),(function(e,t){return{getGroupData:function(){return e($())},getStudentData:function(){return e(dt())},getProviderData:function(){return e(Tt())},editMembersGroup:function(t){return e(function(e){var t=e.id,a=e.addMembers,n=e.removeMembers;return function(){var e=Object(O.a)(S.a.mark((function e(r,o){var i,s,l,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(oe()),console.log("getState",o()),i=k.getUser(!0),s=i.uid,l=Y({body:{type:"groupAndLinkedFutureSessions",sender:s,itemId:t,addMembers:a,removeMembers:n},method:"PATCH",endpoint:"group/members"}),e.prev=5,e.next=8,Promise.all([l]);case 8:c=e.sent,r(ie(c)),r($()),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),console.error("editMembersGroupThunk of ".concat(t,", threw"),e.t0),r(se(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,a){return e.apply(this,arguments)}}()}(t))},editMembersSession:function(t){return e(function(e){var t=e.id,a=e.gid,n=e.addMembers,r=e.removeMembers,o=e.areLeaders,i=void 0!==o&&o;return function(){var e=Object(O.a)(S.a.mark((function e(o,s){var l,c,u,d,p;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o(Ft()),console.log("getState",s()),l=k.getUser(!0),c=l.uid,u={gid:a,areLeaders:i,sender:c,itemId:t,addMembers:Object(B.a)(new Set(n)),removeMembers:Object(B.a)(new Set(r)),type:"session"},!t){e.next=8;break}d=Y({body:u,method:"PATCH",endpoint:"session/members"}),e.next=9;break;case 8:throw new Error("editUsersThunk id must be defined");case 9:return e.prev=9,e.next=12,Promise.all([d]);case 12:p=e.sent,o(Jt(p)),o(Gt()),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(9),console.error("editUsersThunk of ".concat(t,", threw"),e.t0),o(qt(e.t0.message));case 21:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,a){return e.apply(this,arguments)}}()}(t))}}}))(Qt);a(351),a(352);function ta(e){var t=e.props,a=e.listName,o=e.columnDefs,i=e.rowData,s=e.isLoading,l=e.addInfo,c=e.addForm,u=e.hideAddFile,d=e.buttonBarExt,p=e.manageMembersFor,m=e.exampleFilePath,f=e.getData,b=e.addData,h=e.removeRow,g=e.formOnChangeSetFieldInvisibility,y=e.processFile,S=Object(n.useState)({}),O=Object(E.a)(S,2),x=O[0],j=O[1],k=Object(n.useState)(null),w=Object(E.a)(k,2),C=w[0],N=w[1],T=Object(n.useState)(),R=Object(E.a)(T,2),D=R[0],_=R[1],M=Object(n.useState)(),A=Object(E.a)(M,2),I=A[0],U=A[1],P=Object(n.useState)(),G=Object(E.a)(P,2),F=G[0],L=G[1],H=Object(n.useState)(!1),V=Object(E.a)(H,2),z=V[0],W=V[1];Object(n.useEffect)((function(){Object.keys(i).length<1&&f()}),[]),Object(n.useEffect)((function(){i.forEach((function(e){e.id===x.id&&j(e)}))}),[i]),Object(n.useEffect)((function(){if(C&&t.location.state&&t.location.state.filters){var e=t.location.state.filters;console.log("setting filters: ",e),Object.keys(e).forEach((function(t){var a=C.getFilterInstance(t);void 0!==a&&(a.setModel({type:"contains",filter:e[t]}),C.onFilterChanged())}))}}),[C]);var Y={frameworkComponents:{deleteButton:yt,deleteItem:St,addUserButton:Ot},defaultColumnDefs:{resizable:!0,minWidth:100,filter:!0,flex:1,autoHeight:!0},defaultRowData:{autoHeight:!0,resizable:!0}};return r.a.createElement("div",{className:"content"},r.a.createElement(ke,{universalOptions:{size:"large",color:"info"},buttonGroups:[[{text:"Refresh",onClick:function(){f()},icon:"pe-7s-refresh-2"}],[{text:"Add",onClick:function(){return U(!0)},icon:"pe-7s-add-user"}]].concat(Object(B.a)(d))}),r.a.createElement("div",{className:"ag-theme-alpine",style:{height:"80vh",width:"100%",maxWidth:"1500px",justifyContent:"center"}},s?r.a.createElement($t,null):r.a.createElement(Kt.AgGridReact,{animateRows:!0,onGridReady:function(e){console.log("TemplateList passed filters:",t.location.state),N(e.api)},onCellClicked:function(e){"Remove"===e.colDef.headerName||"Delete"===e.colDef.headerName?(j(e.data),_("Are you sure you want to remove ".concat(e.data.name||e.data.phone||"this"," from your organization?")),W(!0)):"Manage"===e.colDef.headerName&&(j(e.data),L(!0))},frameworkComponents:Y.frameworkComponents,columnDefs:o.map((function(e){return Object(v.a)(Object(v.a)({},Y.defaultColumnDefs),e)})),rowData:i.map((function(e){return Object(v.a)(Object(v.a)({},Y.defaultRowData),e)}))})),r.a.createElement(kt,{onConfirm:function(){console.log("onRemove",x),h(x)},isOpen:z,toggleOpen:function(){console.log("confirm toggle"),W(!z)},text:D,confirmTextCheck:!1}),r.a.createElement(ze,{onSubmit:function(e){b(e)},isOpen:I,toggleOpen:function(){return U(!I)},header:"Add ".concat(a,"(s) to Organization"),infoText:l,form:c,onChangeSetFieldInvisibility:g,hideFile:u,processFile:y,exampleFilePath:m}),r.a.createElement(ea,{isOpen:F,toggleOpen:function(){return L(!F)},itemData:x,header:"Manage Users in ".concat(a),defaultMembersOf:p,rowData:!0}))}ta.defaultProps={props:{},columnDefs:[{}],rowData:[{}],addForm:[{name:"phone",label:"Phone Number",type:"tel",bsClass:"form-control",placeholder:"+1 5031231234"}],hideAddFile:!1,addInfo:"Submitted profiles will be sent an invitation",buttonBarExt:[],manageMembersFor:"Session",exampleFilePath:!1,formOnChangeSetFieldInvisibility:function(){return[]}};var aa=ta;var na=Object(s.b)((function(e){var t=e.userReducer,a=e.studentsReducer;return{orgState:t.org,loading:a.loading,dataList:a.list}}),(function(e,t){return{getData:function(){return e(dt())},addData:function(t){return e((a=t,function(){var e=Object(O.a)(S.a.mark((function e(t,n){var r,o,i,s,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(bt()),r=Array.isArray(a)?a:[a],o=n().userReducer.org,i=k.getUser(!0),s=i.uid,l=r[0].labels?r.map((function(e){return e.labels.split(".").map((function(e){return e.trim()})).filter((function(e){return e.length>0}))})):[],e.abrupt("return",Y({method:"POST",endpoint:"/admin/org/invitations",body:{type:"org",sender:s,itemId:o,invitees:r.map((function(e){return e.phone})),labels:l,profileType:"consumer"}}).then((function(e){var a=r.map((function(t,a){return{to:t.phone,labels:l[a],iid:e.iids[a].iid}}));t(ht(a))})).catch((function(e){console.error("addStudents"),t(gt(e.message))})));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},removeData:function(t){return e(function(e){var t=e.pid,a=e.iid;return function(){var e=Object(O.a)(S.a.mark((function e(n,r){var o,i,s,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(pt()),console.log("getState",r()),o=r().userReducer,i=o.org,o.uuid,!t){e.next=8;break}l="?pids=".concat(t,"&limit=500"),s=Y({method:"DELETE",endpoint:"admin/profiles/consumer/".concat(i).concat(l)}),e.next=13;break;case 8:if(!a){e.next=12;break}s=Y({method:"DELETE",endpoint:"admin/org/invitations?iids=".concat(a)}),e.next=13;break;case 12:throw new Error("removeStudentThunk pid or iid must be defined");case 13:return e.prev=13,e.next=16,Promise.all([s]);case 16:n(Et({pid:t,iid:a})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(13),console.error("removeStudentThunk of ".concat(t||a,", threw"),e.t0),n(vt(e.t0.message));case 23:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,a){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.getData,a=e.addData,o=e.removeData,i=e.dataList,s=e.loading,l=e.orgState,c=Object(U.a)(e,["getData","addData","removeData","dataList","loading","orgState"]),u=Object(n.useMemo)((function(){return i.map((function(e){return Object(ct.mapStudentMainAgGridRows)(e,l)}))}),[i]);return r.a.createElement(aa,{listName:"Student",props:c,isLoading:s,getData:t,addData:a,removeRow:o,columnDefs:Object(ct.generateStudentMainAgGridColumns)(),rowData:u,addForm:[{name:"phone",label:"Phone Number",type:"tel",bsClass:"form-control",placeholder:"+1 5031231234"},{name:"labels",label:"Private Labels (period seperated)",type:"string",placeholder:"Grade 4. Reading. Yakima"}],processFile:function(e){return e.split("\n").slice(1).map((function(e){var t=e.split(",");return{phone:t[0],labels:t[1]}}))},exampleFilePath:"https://firebasestorage.googleapis.com/v0/b/watutors-1.appspot.com/o/public%2Forg_example_csvs%2Fstudents.csv?alt=media&token=2e173dd2-4ad7-4591-b9f6-9ab031e99824"})}));function ra(){var e=window,t=e.innerWidth;return{width:t,height:e.innerHeight,isXS:t<768,isSM:t>768,isMD:t>992,isLG:t>1200}}var oa=Object(s.b)((function(e){var t=e.userReducer,a=e.providersReducer;return{orgState:t.org,loading:a.loading,dataList:a.list}}),(function(e,t){return{getData:function(){return e(Tt())},addData:function(t){return e((a=t,function(){var e=Object(O.a)(S.a.mark((function e(t,n){var r,o,i,s,l,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(Mt()),r=Array.isArray(a)?a:[a],o=n().userReducer.org,i=k.getUser(!0),s=i.uid,l=r[0].labels?r.map((function(e){return e.labels.split(".").map((function(e){return e.trim()})).filter((function(e){return e.length>0}))})):[],a.Teacher&&l.map((function(e){e.push("TEACHER")})),a.Tutor&&l.map((function(e){e.push("TUTOR")})),c=l.map((function(e){return e.map((function(e){return"Teacher"===e?"TEACHER":"Tutor"===e?"TUTOR":e}))})),e.next=10,Y({method:"POST",endpoint:"/admin/org/invitations",body:{type:"org",sender:s,itemId:o,invitees:r.map((function(e){return e.phone})),labels:c,profileType:"provider"}}).then((function(e){var a=r.map((function(t,a){return{to:t.phone,labels:c[a],iid:e.iids[a].iid}}));t(At(a))})).catch((function(e){console.error("addProviders"),t(It(e.message))}));case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},removeData:function(t){return e(function(e){var t=e.pid,a=e.iid;return function(){var e=Object(O.a)(S.a.mark((function e(n,r){var o,i,s,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(Rt()),console.log("getState",r()),o=r().userReducer,i=o.org,o.uuid,!t){e.next=8;break}l="?pids=".concat(t),s=Y({method:"DELETE",endpoint:"admin/profiles/provider/".concat(i).concat(l)}),e.next=13;break;case 8:if(!a){e.next=12;break}s=Y({method:"DELETE",endpoint:"admin/org/invitations?iids=".concat(a)}),e.next=13;break;case 12:throw new Error("removeProviderThunk pid or iid must be defined");case 13:return e.prev=13,e.next=16,Promise.all([s]);case 16:n(Ut({pid:t,iid:a})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(13),console.error("removeProviderThunk of ".concat(t||a,", threw"),e.t0),n(Pt(e.t0.message));case 23:case"end":return e.stop()}}),e,null,[[13,19]])})));return function(t,a){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.getData,a=e.addData,o=e.removeData,i=e.dataList,s=e.loading,l=e.orgState,c=Object(U.a)(e,["getData","addData","removeData","dataList","loading","orgState"]),u=function(){var e=Object(n.useState)(ra()),t=Object(E.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r(ra())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().isMD,d=Object(n.useMemo)((function(){return i.map((function(e){return Object(Ct.mapProviderMainAgGridRows)(e,l)}))}),[i]),p=Object(n.useMemo)((function(){return console.log("calc columnDefs",{isMD:u}),u?Object(Ct.generateProviderMainAgGridColumns)([]):Object(Ct.generateProviderMainAgGridColumns)(["ratingCount","phone"])}),[u]);return r.a.createElement(aa,{listName:"Tutor",props:c,isLoading:s,getData:t,addData:a,removeRow:o,columnDefs:p,rowData:d,addForm:[{name:"phone",label:"Phone Number",type:"tel",bsClass:"form-control",placeholder:"+1 5031231234"},{name:"labels",label:"Private Labels (period seperated)",type:"string",placeholder:"Grade 4. Reading. Yakima"},{name:"providerType",label:"Type of Lesson Instructor",checkboxes:!0,options:[{label:"Teacher",value:"Teacher"},{label:"Tutor",value:"Tutor"}]}],processFile:function(e){return e.split("\n").slice(1).map((function(e){var t=e.split(",");return{phone:t[0],labels:t[1]}}))},exampleFilePath:"https://firebasestorage.googleapis.com/v0/b/watutors-1.appspot.com/o/public%2Forg_example_csvs%2Ftutors.csv?alt=media&token=5b55d6a4-ae48-461b-8ae9-ea43970f25a5"})}));var ia=Object(s.b)((function(e){var t=e.userReducer,a=e.groupsReducer;return{orgState:t.org,loading:a.loading,dataList:a.list,properties:t.properties}}),(function(e,t){return{getData:function(){return e($())},addData:function(t){return e((a=t,function(){var e=Object(O.a)(S.a.mark((function e(t,n){var r,o,i,s,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Array.isArray(a)?a:[a],t(ee()),o=n().userReducer.org,i=k.getUser(!0),s=i.uid,console.log({newGroups:r}),(l=r.map((function(e){return{org:o,sender:s,type:"private",name:e.name,info:e.info,properties:[e.subject.trim()]}}))).info){e.next=9;break}return console.log("info not defined during pre-api call validation"),e.abrupt("return");case 9:return e.next=11,Y({method:"POST",endpoint:"group/multi",body:{groups:l}}).then((function(){t(te(r)),t($())})).catch((function(e){console.error("addGroups"),t(ae(e.message))}));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},getProperties:function(){return e(pe())},removeData:function(t){return e(function(e){var t=e.gid,a=e.iid;return function(){var e=Object(O.a)(S.a.mark((function e(n,r){var o,i;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(X()),console.log("getState",r()),o=r().userReducer,o.org,o.uuid,!t){e.next=7;break}i=Y({method:"DELETE",endpoint:"group/single/".concat(t)}),e.next=12;break;case 7:if(!a){e.next=11;break}i=Y({method:"DELETE",endpoint:"admin/org/invitations?iids=".concat(a)}),e.next=12;break;case 11:throw new Error("removeGroupThunk pid or iid must be defined");case 12:return e.prev=12,e.next=15,Promise.all([i]);case 15:n(ne({gid:t,iid:a})),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(12),console.error("removeGroupThunk of ".concat(t||a,", threw"),e.t0),n(re(e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[12,18]])})));return function(t,a){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.getData,a=e.getProperties,o=e.addData,i=e.removeData,s=(e.editMembers,e.dataList),l=e.loading,c=e.properties,u=Object(U.a)(e,["getData","getProperties","addData","removeData","editMembers","dataList","loading","properties"]);Object(n.useEffect)((function(){c&&!c.includes("Loading...")||a()}),[]);var d=Object(n.useMemo)((function(){return s?s.map(wt.mapGroupMainAgGridRows):[]}),[s]);return r.a.createElement(aa,{listName:"Group",manageMembersFor:"Group",props:u,isLoading:l,getData:t,addData:o,removeRow:i,columnDefs:Object(wt.generateGroupMainAgGridColumns)(),rowData:d,addInfo:"Groups are required to create sessions",addForm:[{name:"name",label:"Group Name (this will note be visible by users)",type:"text",placeholder:"Spring Cohort 52"},{name:"subject",label:"Group Subject",type:"select",componentClass:"select",placeholder:"select",options:c&&c.map((function(e){return{value:e,label:e}}))},{name:"info",label:"Group Description",type:"text",placeholder:"This group is for ..."}],processFile:function(e){return console.log("process file",e),e.split("\n").slice(1).map((function(e){var t=e.split(",");return{info:t[0],subject:t[1]}}))},exampleFilePath:"https://firebasestorage.googleapis.com/v0/b/watutors-1.appspot.com/o/public%2Forg_example_csvs%2Fgroups.csv?alt=media&token=12a97b65-4d09-4c6e-854c-0ea5329d53f8"})})),sa=a(163),la=a.n(sa),ca=a(164);var ua=Object(s.b)((function(e){var t=e.userReducer,a=e.sessionsReducer,n=e.providersReducer;return{orgState:t.org,dataList:a.list,properties:t.properties,providerList:n.list,loading:a.loading&&n.loading}}),(function(e,t){return{getProviders:function(){return e(Tt())},getData:function(){return e(Gt())},getProperties:function(){return e(pe())},addData:function(t){return e((a=t,function(){var e=Object(O.a)(S.a.mark((function e(t,n){var r,o,i,s,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Array.isArray(a)?a:[a],t(Ht()),o=n().userReducer.org,i=k.getUser(!0),s=i.uid,console.log({newSessions:r}),l=r.map((function(e){var t=new Date("".concat(e.startDate," ").concat(e.startTime)),a=e.provider?[e.provider.pid]:void 0;return{sender:s,type:{Classroom:"free_private_timed","Study Session":"free_private"}[e.type],info:{org:o,start:t,name:e.name,about:e.about,properties:[e.subject]},addProfilePresenters:a}})),e.next=8,Y({method:"POST",endpoint:"session/multi",body:{sessions:l}}).then((function(){t(Vt([])),t(Gt())})).catch((function(e){console.error("addSessions"),t(zt(e.message))}));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()));var a},removeData:function(t){return e(function(e){var t=e.sid;return function(){var e=Object(O.a)(S.a.mark((function e(a,n){var r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a(Ft()),console.log("getState",n()),!t){e.next=6;break}r=Y({method:"DELETE",endpoint:"session/multi?sids=".concat(t)}),e.next=7;break;case 6:throw new Error("removeSessionThunk sid must be defined");case 7:return e.prev=7,e.next=10,Promise.all([r]);case 10:a(Wt({sid:t})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(7),console.error("removeSessionThunk of ".concat(t,", threw"),e.t0),a(Yt(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t,a){return e.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.getData,a=e.getProperties,o=e.addData,i=e.removeData,s=e.getProviders,l=e.dataList,c=e.loading,u=e.properties,d=e.providerList,p=e.orgState,m=Object(U.a)(e,["getData","getProperties","addData","removeData","getProviders","dataList","loading","properties","providerList","orgState"]),f=Object(n.useState)(""),b=Object(E.a)(f,2),h=b[0],g=b[1],y=Object(n.useState)(!1),S=Object(E.a)(y,2),O=S[0],x=S[1];Object(n.useEffect)((function(){Object.keys(d).length<1&&s(),u&&!u.includes("Loading...")||a()}),[]);var j=Object(n.useMemo)((function(){return l?l.map(ca.mapSessionMainAgGridRows):[]}),[l]),k=Object(n.useMemo)((function(){return console.log("SessionList subject filter",{subjectAddFormFilter:h}),d?d.map((function(e){return{invite:e.profile?"Accepted":"Sent",name:e.profile?e.profile.name.split("~")[0]:void 0,properties:e.profile?e.profile.properties:null,instructorType:e.profile?(e.profile.org.includes("".concat(p,"_TEACHER"))?"Teacher":e.profile.org.includes("".concat(p,"_TUTOR"))&&"Tutor")||"":(e.labels.includes("TEACHER")?"Teacher":e.labels.includes("TUTOR")&&"Tutor")||"",pid:e.pid}})).filter((function(e){return"Accepted"===e.invite&&"Teacher"===e.instructorType&&(e.properties.includes(h)||e.properties.includes("".concat(p,"_").concat(h)))})):[]}),[d,h]),w=Object(n.useMemo)((function(){return[{name:"type",label:"Session Type",type:"select",componentClass:"select",placeholder:"select",options:[{label:"Study Session",value:"Study Session"},{label:"Classroom",value:"Classroom"}]},{name:"startTime",label:"Start Time",type:"time"},{name:"startDate",label:"Start Date",type:"date"},{name:"name",label:"Session Name",type:"text",placeholder:"Study Session 34b"},{name:"about",label:"Session Description (about)",type:"text",placeholder:"This session will cover..."},{name:"subject",label:"Session Subject",type:"select",componentClass:"select",placeholder:"select",options:u.map((function(e){return{value:e,label:e}}))},{name:"provider",label:"Select Teacher",type:"select",componentClass:"select",placeholder:"select",options:k.map((function(e){return{value:e,label:e.name}}))}]}),[u,k]),C=Object(n.useMemo)((function(){return[{name:"type",label:"Session Type",type:"select",componentClass:"select",placeholder:"select",options:[{label:"Study Session",value:"Study Session"},{label:"Classroom",value:"Classroom"}]},{name:"startTime",label:"Start Time",type:"time"},{name:"dotw",label:"Select days of the week",checkboxes:!0,options:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((function(e){return{label:e,value:e}}))},{name:"startDay",label:"First Possible Start Date",type:"date"},{name:"endDay",label:"Last Possible End Date",type:"date"},{name:"name",label:"Session Name",type:"text",placeholder:"Study Session 34b"},{name:"about",label:"Session Description (about)",type:"text",placeholder:"This session will cover..."},{name:"subject",label:"Session Subject",type:"select",componentClass:"select",placeholder:"select",options:u.map((function(e){return{value:e,label:e}}))},{name:"provider",label:"Select Teacher",type:"select",componentClass:"select",placeholder:"select",options:k.map((function(e){return{value:e,label:e.name}}))}]}),[u,k]);function N(e){e.subject&&g(e.subject);return"Study Session"===e.type?["provider"]:[]}return r.a.createElement(r.a.Fragment,null,r.a.createElement(aa,{listName:"Session",manageMembersFor:"Session",props:m,isLoading:c,getData:t,addData:o,removeRow:i,columnDefs:Object(ca.generateSessionMainAgGridColumns)(),rowData:j,addInfo:"Sessions are required to create sessions",addForm:w,processFile:function(e){return e.split("\n").slice(1).map((function(e){var t=e.split(",").map((function(e){return e.trim()}));return{name:t[0],about:t[1],subject:t[2],type:t[3],startTime:t[4],startDate:t[5]}}))},formOnChangeSetFieldInvisibility:N,buttonBarExt:[[{text:"Add Recuring",onClick:function(){return x(!0)},icon:"pe-7s-photo-gallery"}]],exampleFilePath:"https://firebasestorage.googleapis.com/v0/b/watutors-1.appspot.com/o/public%2Forg_example_csvs%2Fsessions.csv?alt=media&token=6dae5126-0ac9-4ef8-b8c9-43e50801c32a"}),r.a.createElement(ze,{hideFile:!0,onSubmit:function(e){var t=e.startDay,a=e.endDay,n=function(e,t){for(var a=la()(e).startOf("day"),n=la()(t).startOf("day").add(2,"days"),r=[];a.add(1,"days").diff(n)<0;)r.push(a.clone());return r}(new Date(t),new Date(a)),r=[];n.forEach((function(t){if(e[t.format("dddd")]){var a=t.format("YYYY-MM-DD");r.push(Object(v.a)(Object(v.a)({},e),{},{startDate:a}))}})),o(r)},isOpen:O,toggleOpen:function(){return x(!O)},header:"Create Multiple Sessions within Organization",form:C,onChangeSetFieldInvisibility:N}))})),da=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement(D.a,{md:12},r.a.createElement(ue,{title:"Light Bootstrap Table Heading",category:"Created using Roboto Font Family",content:r.a.createElement("div",null,r.a.createElement("div",{className:"typo-line"},r.a.createElement("h1",null,r.a.createElement("p",{className:"category"},"Header 1"),"Light Bootstrap Table Heading"," ")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("h2",null,r.a.createElement("p",{className:"category"},"Header 2"),"Light Bootstrap Table Heading")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("h3",null,r.a.createElement("p",{className:"category"},"Header 3"),"Light Bootstrap Table Heading")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("h4",null,r.a.createElement("p",{className:"category"},"Header 4"),"Light Bootstrap Table Heading")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("h5",null,r.a.createElement("p",{className:"category"},"Header 5"),"Light Bootstrap Table Heading")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("h6",null,r.a.createElement("p",{className:"category"},"Header 6"),"Light Bootstrap Table Heading")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("p",null,r.a.createElement("span",{className:"category"},"Paragraph"),"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam.")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("p",{className:"category"},"Quote"),r.a.createElement("blockquote",null,r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet dolore magna aliquam erat volutpat. Ut wisi enim ad minim veniam."),r.a.createElement("small",null,"Steve Jobs, CEO Apple"))),r.a.createElement("div",{className:"typo-line"},r.a.createElement("p",{className:"category"},"Muted Text"),r.a.createElement("p",{className:"text-muted"},"Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut laoreet.")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("p",{className:"category"},"Coloured Text"),r.a.createElement("p",{className:"text-primary"},"Text Primary - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet."),r.a.createElement("p",{className:"text-info"},"Text Info - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet."),r.a.createElement("p",{className:"text-success"},"Text Success - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet."),r.a.createElement("p",{className:"text-warning"},"Text Warning - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet."),r.a.createElement("p",{className:"text-danger"},"Text Danger - Light Bootstrap Table Heading and complex bootstrap dashboard you've ever seen on the internet.")),r.a.createElement("div",{className:"typo-line"},r.a.createElement("h2",null,r.a.createElement("p",{className:"category"},"Small Tag"),"Header with small subtitle",r.a.createElement("br",null),r.a.createElement("small",null,'".small" is a tag for the headers')," ")))})))))}}]),a}(n.Component),pa=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{fluid:!0},r.a.createElement(R.a,null,r.a.createElement(D.a,{md:12},r.a.createElement(ue,{title:"202 Awesome Stroke Icons",ctAllIcons:!0,category:r.a.createElement("span",null,"Handcrafted by our friends from"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://themes-pixeden.com/font-demos/7-stroke/index.html"},"Pixeden")),content:r.a.createElement(R.a,null,G.iconsArray.map((function(e,t){return r.a.createElement(D.a,{lg:2,md:3,sm:4,xs:6,className:"font-icon-list",key:t},r.a.createElement("div",{className:"font-icon-detail"},r.a.createElement("i",{className:e}),r.a.createElement("input",{type:"text",defaultValue:e})))})))})))))}}]),a}(n.Component),ma=a(96),fa=Object(ma.withScriptjs)(Object(ma.withGoogleMap)((function(e){return r.a.createElement(ma.GoogleMap,{defaultZoom:13,defaultCenter:{lat:40.748817,lng:-73.985428},defaultOptions:{scrollwheel:!1,zoomControl:!0}},r.a.createElement(ma.Marker,{position:{lat:40.748817,lng:-73.985428}}))})));var ba=function(e){return Object.assign({},e),r.a.createElement(fa,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY_HERE",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"100vh"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})})},ha=a(547),ga=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"content"},r.a.createElement(N.a,{fluid:!0},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"header"},r.a.createElement("h4",{className:"title"},"Notifications"),r.a.createElement("p",{className:"category"},"Handcrafted by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/igorprado"},"Igor Prado"),". Please checkout the"," ",r.a.createElement("a",{href:"http://igorprado.com/react-notification-system/",rel:"noopener noreferrer",target:"_blank"},"full documentation."))),r.a.createElement("div",{className:"content"},r.a.createElement(R.a,null,r.a.createElement(D.a,{md:6},r.a.createElement("h5",null,"Notifications Style"),r.a.createElement(ha.a,{bsStyle:"info"},r.a.createElement("span",null,"This is a plain notification")),r.a.createElement(ha.a,{bsStyle:"info"},r.a.createElement("button",{type:"button","aria-hidden":"true",className:"close"},"\u2715"),r.a.createElement("span",null,"This is a notification with close button.")),r.a.createElement(ha.a,{bsStyle:"info",className:"alert-with-icon"},r.a.createElement("button",{type:"button","aria-hidden":"true",className:"close"},"\u2715"),r.a.createElement("span",{"data-notify":"icon",className:"pe-7s-bell"}),r.a.createElement("span",{"data-notify":"message"},"This is a notification with close button and icon.")),r.a.createElement(ha.a,{bsStyle:"info",className:"alert-with-icon"},r.a.createElement("button",{type:"button","aria-hidden":"true",className:"close"},"\u2715"),r.a.createElement("span",{"data-notify":"icon",className:"pe-7s-bell"}),r.a.createElement("span",{"data-notify":"message"},"This is a notification with close button and icon and have many lines. You can see that the icon and the close button are always vertically aligned. This is a beautiful notification. So you don't have to worry about the style."))),r.a.createElement(D.a,{md:6},r.a.createElement("h5",null,"Notification states"),r.a.createElement(ha.a,{bsStyle:"info"},r.a.createElement("button",{type:"button","aria-hidden":"true",className:"close"},"\u2715"),r.a.createElement("span",null,r.a.createElement("b",null," Info - ")," ",'This is a regular notification made with bsStyle="info"')),r.a.createElement(ha.a,{bsStyle:"success"},r.a.createElement("button",{type:"button","aria-hidden":"true",className:"close"},"\u2715"),r.a.createElement("span",null,r.a.createElement("b",null," Success - ")," ",'This is a regular notification made with bsStyle="success"')),r.a.createElement(ha.a,{bsStyle:"warning"},r.a.createElement("button",{type:"button","aria-hidden":"true",className:"close"},"\u2715"),r.a.createElement("span",null,r.a.createElement("b",null," Warning - ")," ",'This is a regular notification made with bsStyle="warning"')),r.a.createElement(ha.a,{bsStyle:"danger"},r.a.createElement("button",{type:"button","aria-hidden":"true",className:"close"},"\u2715"),r.a.createElement("span",null,r.a.createElement("b",null," Danger - ")," ",'This is a regular notification made with bsStyle="danger"')))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"places-buttons"},r.a.createElement(R.a,null,r.a.createElement(D.a,{md:6,mdOffset:3,className:"text-center"},r.a.createElement("h5",null,"Notifications Places",r.a.createElement("p",{className:"category"},"Click to view notifications")))),r.a.createElement(R.a,null,r.a.createElement(D.a,{md:2,mdOffset:3},r.a.createElement(Xe,{bsStyle:"default",block:!0,onClick:function(){return e.props.handleClick("tl")}},"Top Left")),r.a.createElement(D.a,{md:2},r.a.createElement(Xe,{bsStyle:"default",block:!0,onClick:function(){return e.props.handleClick("tc")}},"Top Center")),r.a.createElement(D.a,{md:2},r.a.createElement(Xe,{bsStyle:"default",block:!0,onClick:function(){return e.props.handleClick("tr")}},"Top Right"))),r.a.createElement(R.a,null,r.a.createElement(D.a,{md:2,mdOffset:3},r.a.createElement(Xe,{bsStyle:"default",block:!0,onClick:function(){return e.props.handleClick("bl")}},"Bottom Left")),r.a.createElement(D.a,{md:2},r.a.createElement(Xe,{bsStyle:"default",block:!0,onClick:function(){return e.props.handleClick("bc")}},"Bottom Center")),r.a.createElement(D.a,{md:2},r.a.createElement(Xe,{bsStyle:"default",block:!0,onClick:function(){return e.props.handleClick("br")}},"Bottom Right"))))))))}}]),a}(n.Component),Ea=(n.Component,a(249)),va=a.n(Ea);var ya={setOrganizationStore:function(e){return{type:"SET_ORGANIZATION",payload:e}}},Sa=Object(s.b)(null,ya)((function(e){var t=e.history,a=e.setOrganizationStore,o=Object(n.useState)({}),i=Object(E.a)(o,2),s=i[0],l=i[1],c=Object(n.useState)(""),u=Object(E.a)(c,2),d=u[0],p=u[1];return r.a.createElement("div",{style:{height:"92vh",justifyContent:"center",backgroundImage:"url(".concat(va.a,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}},r.a.createElement("div",{style:{paddingTop:"40px",marginLeft:"auto",marginRight:"auto",maxWidth:"500px"}},r.a.createElement(ce,{title:"Welcome to the Watutor Organization Management Console",content:r.a.createElement("div",null,r.a.createElement(Fe,{ncols:["col-xs-12","col-xs-12","col-xs-12"],handleChange:function(e,t){p(""),l(Object(v.a)(Object(v.a)({},s),{},Object(ye.a)({},t,e.target.value))),"org"===t&&a(e.target.value)},properties:[{name:"org",label:"Organization",type:"text",bsClass:"form-control",placeholder:"Company Name Here"},{name:"email",label:"Email Username",type:"text",bsClass:"form-control",placeholder:"Username"},{name:"password",label:"Password",type:"password",bsClass:"form-control",placeholder:"Username"}]}),r.a.createElement(Xe,{bsStyle:"primary",pullRight:!0,fill:!0,onClick:function(){var e,a;console.log(s),s.org&&s.email&&s.password?(e=s.email,a=s.password,k.signInUser({username:e,password:a}).then((function(){t.push("/admin/console")})).catch((function(t){window.alert("Login Failed"),console.error("fb login error",t,{username:e,password:a})}))):p("Looks like a field is empty... Please try again")}},"Login"," ",r.a.createElement("i",{className:"pe-7s-lock"})),r.a.createElement("div",{style:{padding:"10px"}},r.a.createElement("span",{className:"text-danger"},d)),r.a.createElement("div",{className:"clearfix"}))})))})),Oa=[{live:!0,path:"/console",name:"Console",icon:"pe-7s-graph",component:tt,layout:"/admin"},{live:!0,path:"/students",name:"Student List",icon:"pe-7s-users",component:na,layout:"/admin"},{live:!0,path:"/providers",name:"Tutor List",icon:"pe-7s-note2",component:oa,layout:"/admin"},{live:!0,path:"/groups",name:"Group List",icon:"pe-7s-vector",component:ia,layout:"/admin"},{live:!0,path:"/sessions",name:"Session List",icon:"pe-7s-video",component:ua,layout:"/admin"},{live:!1,external:!0,icon:"pe-7s-piggy",name:"Invoices",link:"https://www.watutors.com"},{path:"/dashboard",name:"PREBUILT PAGES BELOW vvv",icon:"pe-7s-angle-down",component:tt,layout:"/admin"},{path:"/_dashboard",name:"Dashboard",icon:"pe-7s-graph",component:at,layout:"/admin"},{path:"/user",name:"User Profile",icon:"pe-7s-user",component:it,layout:"/admin"},{path:"/table",name:"Table List",icon:"pe-7s-note2",component:lt,layout:"/admin"},{path:"/typography",name:"Typography",icon:"pe-7s-news-paper",component:da,layout:"/admin"},{path:"/icons",name:"Icons",icon:"pe-7s-science",component:pa,layout:"/admin"},{path:"/maps",name:"Maps",icon:"pe-7s-map-marker",component:ba,layout:"/admin"},{path:"/notifications",name:"Notifications",icon:"pe-7s-bell",component:ga,layout:"/admin"},{live:!0,upgrade:!0,path:"/login",name:"Sign Out",icon:"pe-7s-back-2",component:Sa,layout:"/ext"}],xa=a(126),ja=a.n(xa),ka=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleNotificationClick=function(e){switch(Math.floor(4*Math.random()+1)){case 1:"success";break;case 2:"warning";break;case 3:"error";break;case 4:"info"}},n.getRoutes=function(e){return e.map((function(e,t){return"/admin"===e.layout?r.a.createElement(P,{key:t,path:e.layout+e.path,name:e.name,component:e.component,customProps:e||{},handleClick:n.handleNotificationClick}):null}))},n.getBrandText=function(e){for(var t=0;t<Oa.length;t++)if(-1!==n.props.location.pathname.indexOf(Oa[t].layout+Oa[t].path))return Oa[t].name;return"Brand"},n.handleImageClick=function(e){n.setState({image:e})},n.handleColorClick=function(e){n.setState({color:e})},n.handleHasImage=function(e){n.setState({hasImage:e})},n.handleFixedClick=function(){"dropdown"===n.state.fixedClasses?n.setState({fixedClasses:"dropdown show-dropdown open"}):n.setState({fixedClasses:"dropdown"})},n.state={_notificationSystem:null,image:ja.a,color:"black",hasImage:!0,fixedClasses:"dropdown show-dropdown open"},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({_notificationSystem:this.refs.notificationSystem});this.refs.notificationSystem;switch(Math.floor(4*Math.random()+1)){case 1:"success";break;case 2:"warning";break;case 3:"error";break;case 4:"info"}}},{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&(console.log("Admin componentDidUpdate triggered"),document.documentElement.classList.toggle("nav-open")),"PUSH"===e.history.action&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainPanel.scrollTop=0)}},{key:"render",value:function(){return this.props.orgState||this.props.history.push("/"),r.a.createElement("div",{className:"wrapper"},r.a.createElement(b.a,{ref:"notificationSystem",style:G.style}),r.a.createElement(I,Object.assign({},this.props,{routes:Oa,image:this.state.image,color:this.state.color,hasImage:this.state.hasImage})),r.a.createElement("div",{id:"main-panel",className:"main-panel",ref:"mainPanel"},r.a.createElement(C,Object.assign({},this.props,{brandText:this.getBrandText(this.props.location.pathname)})),r.a.createElement(c.d,null,this.getRoutes(Oa)),r.a.createElement(T,null)))}}]),a}(n.Component),wa=Object(s.b)((function(e){return{orgState:e.userReducer.org}}),null)(ka),Ca=a(548),Na=a(549);var Ta=[{path:"/login",name:"Dashboard",icon:"pe-7s-graph",component:Sa,layout:"/ext"},{path:"/verify",name:"Verify Email",icon:"pe-7s-graph",component:Object(c.f)((function(e){var t=e.history,a=Object(n.useState)(4e3),o=Object(E.a)(a,2);function i(){return s.apply(this,arguments)}function s(){return(s=Object(O.a)(S.a.mark((function e(){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getUserReload();case 2:if(a=e.sent,k.logEvent("click",{button:"email_verification_check_passed"}),console.log("EmailValid check",a),!a||!a.emailVerified){e.next=8;break}return t.push("/profile"),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){i()}return o[0],o[1],Object(n.useEffect)((function(){k.setScreen("EmailVerification","/email-verification")}),[]),Object(n.useEffect)((function(){return window.addEventListener("focus",l),function(){window.removeEventListener("focus",l)}}),[]),r.a.createElement("div",{className:"app flex-row align-items-center justify-content-center"},r.a.createElement(Ca.a,{className:"m-2 mb-1"},r.a.createElement(Na.a,{className:"p-5"},r.a.createElement("h1",null,"Verify Email"," ",r.a.createElement("span",{className:"label text-muted",onClick:function(){k.logEvent("click",{button:"refresh_check_email_verification"}),i()}},r.a.createElement("i",{className:"fa fa-refresh fa-xs float-right"}))),r.a.createElement("p",{className:"text-muted mb-1 mt-4"},"An email should have been sent to your account."),r.a.createElement("p",{className:"text-muted my-1"},"In order to continue, please verify your email."),r.a.createElement(Se.a,{className:"mt-4",color:"primary",block:!0,onClick:function(){k.logEvent("click",{button:"resend_email_verification"}),k.sendEmailVerification()}},"Resend Verification Email"),r.a.createElement("p",{className:"text-muted"},"If you don't see an email, try resending."))))})),layout:"/ext"},{path:"/404",name:"Not Found",icon:"pe-7s-search",component:tt,layout:"/ext"}],Ra=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleNotificationClick=function(e){switch(Math.floor(4*Math.random()+1)){case 1:"success";break;case 2:"warning";break;case 3:"error";break;case 4:"info"}},n.getRoutes=function(e){return e.map((function(e,t){return"/ext"===e.layout?r.a.createElement(c.b,{path:e.layout+e.path,render:function(t){return r.a.createElement(e.component,Object.assign({},t,{handleClick:n.handleNotificationClick}))},key:t}):null}))},n.getBrandText=function(e){for(var t=0;t<Ta.length;t++)if(-1!==n.props.location.pathname.indexOf(Ta[t].layout+Ta[t].path))return Ta[t].name;return"Brand"},n.handleImageClick=function(e){n.setState({image:e})},n.handleColorClick=function(e){n.setState({color:e})},n.handleHasImage=function(e){n.setState({hasImage:e})},n.handleFixedClick=function(){"dropdown"===n.state.fixedClasses?n.setState({fixedClasses:"dropdown show-dropdown open"}):n.setState({fixedClasses:"dropdown"})},n.state={_notificationSystem:null,image:ja.a,color:"black",hasImage:!0,fixedClasses:"dropdown show-dropdown open"},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.setState({_notificationSystem:this.refs.notificationSystem});this.refs.notificationSystem;switch(Math.floor(4*Math.random()+1)){case 1:"success";break;case 2:"warning";break;case 3:"error";break;case 4:"info"}}},{key:"componentDidUpdate",value:function(e){window.innerWidth<993&&e.history.location.pathname!==e.location.pathname&&-1!==document.documentElement.className.indexOf("nav-open")&&document.documentElement.classList.toggle("nav-open"),"PUSH"===e.history.action&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainPanel.scrollTop=0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(b.a,{ref:"notificationSystem",style:G.style}),r.a.createElement("div",{id:"main-panel",ref:"mainPanel",style:{background:"rgba(203, 203, 210, 0.15)",justifyContent:"center"}},r.a.createElement(c.d,null,this.getRoutes(Ta)),r.a.createElement(T,null)))}}]),a}(n.Component),Da=a(60),_a=a(250),Ma=function(e){return function(t){return function(a){console.groupEnd(),console.group(a.type),console.info("dispatching",a);var n=t(a);return console.log("next state",e.getState()),console.groupEnd(),n}}},Aa=Object(Da.c)({studentsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.students,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_STUDENTS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"GET_STUDENTS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:t.payload});case"GET_STUDENTS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"ADD_STUDENTS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"ADD_STUDENTS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:[].concat(Object(B.a)(e.list),Object(B.a)(t.payload))});case"ADD_STUDENTS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"REMOVE_STUDENT_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"REMOVE_STUDENT_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:e.list.filter((function(e){return e.pid?e.pid!==t.payload.pid:e.iid!==t.payload.iid}))});case"REMOVE_STUDENT_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});default:return e}},providersReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.providers,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_PROVIDERS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"GET_PROVIDERS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:t.payload});case"GET_PROVIDERS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"ADD_PROVIDERS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"ADD_PROVIDERS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:[].concat(Object(B.a)(e.list),Object(B.a)(t.payload))});case"ADD_PROVIDERS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"REMOVE_PROVIDER_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"REMOVE_PROVIDER_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:e.list.filter((function(e){return e.pid?e.pid!==t.payload.pid:e.iid!==t.payload.iid}))});case"REMOVE_PROVIDER_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.user,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_ORGANIZATION":return Object(v.a)(Object(v.a)({},e),{},{org:t.payload});case"GET_ORG_SUMMARY_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"GET_ORG_SUMMARY_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1},t.payload);case"GET_ORG_SUMMARY_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"UPDATE_ORG_SUMMARY_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"UPDATE_ORG_SUMMARY_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1},t.payload);case"UPDATE_ORG_SUMMARY_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});default:return e}},groupsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.groups,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_GROUPS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"GET_GROUPS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:t.payload});case"GET_GROUPS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"ADD_GROUPS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"ADD_GROUPS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:[].concat(Object(B.a)(e.list),Object(B.a)(t.payload))});case"ADD_GROUPS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"REMOVE_GROUP_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"REMOVE_GROUP_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:e.list.filter((function(e){return e.gid!==t.payload.gid}))});case"REMOVE_GROUP_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"EDIT_MEMBERS_GROUP_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"EDIT_MEMBERS_GROUP_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:e.list});case"EDIT_MEMBERS_GROUP_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});default:return e}},sessionsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H.sessions,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"GET_SESSIONS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"GET_SESSIONS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:t.payload});case"GET_SESSIONS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"ADD_SESSIONS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"ADD_SESSIONS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:[].concat(Object(B.a)(e.list),Object(B.a)(t.payload))});case"ADD_SESSIONS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"REMOVE_SESSION_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"REMOVE_SESSION_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,list:e.list.filter((function(e){return e.sid!==t.payload.sid}))});case"REMOVE_SESSION_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});case"EDIT_USERS_BEGIN":return Object(v.a)(Object(v.a)({},e),{},{loading:!0});case"EDIT_USERS_SUCCESS":return Object(v.a)(Object(v.a)({},e),{},{loading:!1});case"EDIT_USERS_FAILURE":return Object(v.a)(Object(v.a)({},e),{},{loading:!1,error:t.payload});default:return e}}});var Ia=function(e){var t=[Ma,_a.a],a=[Da.a.apply(void 0,t)],n=Da.d.apply(void 0,a);return Object(Da.e)(Aa,e,n)}();i.a.render(r.a.createElement(s.a,{store:Ia},r.a.createElement(l.a,null,r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/admin",render:function(e){return r.a.createElement(wa,e)}}),r.a.createElement(c.b,{path:"/ext",render:function(e){return r.a.createElement(Ra,e)}}),r.a.createElement(c.a,{from:"/",to:"/ext/login"})))),document.getElementById("root"))},56:function(e,t){t.generateProviderMainAgGridColumns=function(e){return[{headerName:"Invite",field:"invite",flex:.5},{headerName:"Name",field:"name"},{headerName:"Role",field:"instructorType"},{headerName:"Labels",field:"labels",flex:1.25},{headerName:"Phone Number",field:"phone"},{headerName:"Rating",field:"rating",flex:.75,filter:"agNumberColumnFilter"},{headerName:"# Ratings",field:"ratingCount",flex:.75,filter:"agNumberColumnFilter"},{headerName:"Subjects",field:"properties",sortable:!0,flex:1.25},{headerName:"Remove",cellRenderer:"deleteButton",width:64}].filter((function(t){return!e||!e.includes(t.field)}))},t.mapProviderMainAgGridRows=function(e,t){return{invite:e.profile?"Accepted":"Sent",name:e.profile?e.profile.name.split("~")[0]:void 0,phone:e.profile?e.phone:e.to,rating:e.rating,ratingCount:e.numRating,properties:e.profile?e.profile.properties:null,instructorType:e.profile?(e.profile.org.includes("".concat(t,"_TEACHER"))?"Teacher":e.profile.org.includes("".concat(t,"_TUTOR"))&&"Tutor")||"":(e.labels.includes("TEACHER")?"Teacher":e.labels.includes("TUTOR")&&"Tutor")||"",labels:e.profile?e.profile.org.filter((function(e){return e.includes(t)&&e!==t&&!e.includes("TEACHER")&&!e.includes("TUTOR")})).map((function(e){return e.replace("".concat(t,"_"),"")})):e.labels.filter((function(e){return"TEACHER"!==e&&"TUTOR"!==e})),iid:e.iid,pid:e.pid}},t.generateProviderMembersAgGridColumns=function(){return[{headerName:"Name",field:"name"},{headerName:"Role",field:"instructorType"},{headerName:"Labels",field:"labels",flex:1.25},{headerName:"Rating",field:"rating",flex:.75,filter:"agNumberColumnFilter"},{headerName:"Subjects",field:"properties",sortable:!0,flex:1.25},{headerName:"Enrolled",field:"isIncluded",cellRenderer:"checkbox",width:100}]},t.mapProviderMembersAgGridRows=function(e,t,a){return{name:e.profile?e.profile.name.split("~")[0]:void 0,rating:e.rating,properties:e.profile?e.profile.properties:null,labels:e.profile?e.profile.org.filter((function(e){return e.includes(a)&&e!==a&&!e.includes("TEACHER")&&!e.includes("TUTOR")})).map((function(e){return e.replace("".concat(a,"_"),"")})):e.labels.filter((function(e){return"TEACHER"!==e&&"TUTOR"!==e})),isIncluded:t.providerId&&t.providerId===e.pid,id:e.pid}}},84:function(e,t){function a(e,t){return e.profile?e.profile.org.filter((function(e){return e.includes(t)&&e!==t})).map((function(e){return e.replace("".concat(t,"_"),"")})):e.labels}t.generateStudentMainAgGridColumns=function(e){return[{headerName:"Invite",field:"invite",flex:.5},{headerName:"Name",field:"name"},{headerName:"Phone Number",field:"phone"},{headerName:"Labels",field:"labels",flex:1.25},{headerName:"Remove",cellRenderer:"deleteButton",width:64,flex:.5}].filter((function(t){return!e||!e.includes(t.field)}))},t.mapStudentMainAgGridRows=function(e,t){return{invite:e.profile?"Accepted":"Sent",name:e.profile?e.profile.name.split("~")[0]:void 0,phone:e.profile&&"string"===typeof e.phone?e.phone:e.to,labels:a(e,t),iid:e.iid,pid:e.pid,id:"u~".concat(e.pid||e.iid)}},t.generateStudentMembersAgGridColumns=function(){return[{headerName:"Name",field:"name"},{headerName:"Phone Number",field:"phone"},{headerName:"Labels",field:"labels",flex:1.25},{headerName:"Enrolled",field:"isIncluded",cellRenderer:"checkbox",width:100}]},t.mapStudentMembersAgGridRows=function(e,t,a){return{invite:e.profile?"Accepted":"Sent",name:e.profile?e.profile.name.split("~")[0]:void 0,labels:e.profile?e.profile.org.filter((function(e){return e.includes(a)&&e!==a})).map((function(e){return e.replace("".concat(a,"_"),"")})):e.labels,isIncluded:t.activeMembers&&t.activeMembers.includes(e.pid),id:e.pid||e.iid}}},85:function(e,t){t.generateGroupMainAgGridColumns=function(e){return[{headerName:"Name",field:"name",sortable:!0},{headerName:"Description",field:"info",sortable:!0,flex:1.5},{headerName:"Subjects",field:"subjects",sortable:!0},{headerName:"Created",field:"created",sortable:!0,filter:"agDateColumnFilter"},{headerName:"# Members",field:"numMembers",flex:.5,sortable:!0,filter:"agNumberColumnFilter"},{headerName:"Members",field:"members",sortable:!0},{headerName:"Manage",cellRenderer:"addUserButton",width:64,flex:.5},{headerName:"Delete",cellRenderer:"deleteItem",width:64,flex:.5}].filter((function(t){return!e||!e.includes(t.field)}))},t.mapGroupMainAgGridRows=function(e){return{name:e.name||"Not Found",subjects:e.properties,info:e.info,members:e.activeMembers?e.activeMembers.map((function(t){return e.members[t]&&e.members[t].name.split("~")[0]})):[],activeMembers:e.activeMembers,numMembers:e.activeMembers?e.activeMembers.length:0,created:e.created?new Date(1e3*e.created._seconds):new Date,gid:e.gid,id:"g~".concat(e.gid)}},t.generateGroupMembersAgGridColumns=function(){return[{headerName:"Name",field:"name",sortable:!0},{headerName:"Description",field:"info",sortable:!0,flex:1.5},{headerName:"Subject",field:"subjects",sortable:!0},{headerName:"# Members",field:"numMembers",sortable:!0,flex:.75,filter:"agNumberColumnFilter"},{headerName:"Members",field:"members",sortable:!0},{headerName:"Enrolled",field:"isIncluded",cellRenderer:"checkbox",width:100}]},t.mapGroupMembersAgGridRows=function(e,t,a){return{name:e.name||"Not Found",subjects:e.labels,info:e.info,members:e.activeMembers?e.activeMembers.map((function(t){return e.members[t]&&e.members[t].name.split("~")[0]})):[],numMembers:e.activeMembers?e.activeMembers.length:0,isIncluded:e.activeMembers&&t.activeMembers&&e.activeMembers.length>0&&e.activeMembers.every((function(e){return t.activeMembers.includes(e)})),activeMembers:e.activeMembers,id:e.gid}}}},[[254,1,2]]]);
//# sourceMappingURL=main.f08848fd.chunk.js.map